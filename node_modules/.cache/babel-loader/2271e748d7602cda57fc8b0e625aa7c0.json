{"ast":null,"code":"/**\n * build an ajax function to send request to server\n */\nimport axios from 'axios';\nexport default function ajax(url) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n  console.log(type);\n\n  if (type === 'GET') {\n    // GET\n\n    /**\n     * merge parameters into url\n     * data: {username: Bob, password: 123}\n     * url: ...username=Bob&password=123\n     */\n    let paramString = '';\n    Object.keys(data).forEach(key => {\n      paramString += key + '=' + data[key] + '&';\n    });\n\n    if (paramString) {\n      paramString = paramString.substring(0, paramString.length - 1);\n    }\n\n    return axios(url + '?' + paramString);\n  } else {\n    // POST\n    return axios(url, data);\n  }\n}","map":{"version":3,"sources":["/Users/stewardsun/Desktop/技术栈/React项目/Boss Recruitment/bob-recruitment-client/src/api/ajax.js"],"names":["axios","ajax","url","data","type","console","log","paramString","Object","keys","forEach","key","substring","length"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe,SAASC,IAAT,CAAcC,GAAd,EAA4C;AAAA,MAAzBC,IAAyB,uEAAlB,EAAkB;AAAA,MAAdC,IAAc,uEAAP,KAAO;AACvDC,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,MAAIA,IAAI,KAAK,KAAb,EAAoB;AAAE;;AAClB;AACR;AACA;AACA;AACA;AACQ,QAAIG,WAAW,GAAG,EAAlB;AACAC,IAAAA,MAAM,CAACC,IAAP,CAAYN,IAAZ,EAAkBO,OAAlB,CAA0BC,GAAG,IAAI;AAC7BJ,MAAAA,WAAW,IAAII,GAAG,GAAG,GAAN,GAAYR,IAAI,CAACQ,GAAD,CAAhB,GAAwB,GAAvC;AACH,KAFD;;AAGA,QAAIJ,WAAJ,EAAiB;AACbA,MAAAA,WAAW,GAAGA,WAAW,CAACK,SAAZ,CAAsB,CAAtB,EAAyBL,WAAW,CAACM,MAAZ,GAAqB,CAA9C,CAAd;AACH;;AACD,WAAOb,KAAK,CAACE,GAAG,GAAG,GAAN,GAAYK,WAAb,CAAZ;AACH,GAdD,MAcO;AAAE;AACL,WAAOP,KAAK,CAACE,GAAD,EAAMC,IAAN,CAAZ;AACH;AACJ","sourcesContent":["/**\n * build an ajax function to send request to server\n */\nimport axios from 'axios'\nexport default function ajax(url, data = {}, type = 'GET') {\n    console.log(type);\n    if (type === 'GET') { // GET\n        /**\n         * merge parameters into url\n         * data: {username: Bob, password: 123}\n         * url: ...username=Bob&password=123\n         */\n        let paramString = '';\n        Object.keys(data).forEach(key => {\n            paramString += key + '=' + data[key] + '&';\n        })\n        if (paramString) {\n            paramString = paramString.substring(0, paramString.length - 1);\n        }\n        return axios(url + '?' + paramString);\n    } else { // POST\n        return axios(url, data);\n    }\n}"]},"metadata":{},"sourceType":"module"}