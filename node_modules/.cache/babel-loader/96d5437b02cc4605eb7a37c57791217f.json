{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { parseColor, getColor, parseShadow } from 'style-utils';\nimport { getValue, startConvertToEndUnit, styleValueToArray } from '../utils';\n\nvar ArrayPlugin = function ArrayPlugin(value, key) {\n  var _this = this;\n\n  _classCallCheck(this, ArrayPlugin);\n\n  this.value = value;\n  this.key = key;\n  this.start = [];\n  this.tweenVars = {};\n  this.vars = {};\n  this.propsData = {\n    data: [],\n    unit: [],\n    count: []\n  };\n\n  this.setDefaultData = function (type, splitStr) {\n    var propsData = _this.propsData,\n        value = _this.value;\n\n    var v = _toConsumableArray(value);\n\n    if (type === 'color') {\n      v[3] = v[3] || 1;\n    }\n\n    propsData.type = type;\n    propsData.data = v.map(function (c) {\n      return !parseFloat(c) && parseFloat(c) !== 0 ? c : parseFloat(c);\n    });\n    propsData.unit = v.map(function (c) {\n      return c.toString().replace(/[^a-z|%]/g, '');\n    });\n    propsData.count = v.map(function (c) {\n      return c.toString().replace(/[^+|=|-]/g, '');\n    });\n\n    if (splitStr) {\n      propsData.splitStr = splitStr;\n    }\n  };\n\n  this.convertToMarksArray = function (unit, key, data, i) {\n    var startUnit = (data || '').toString().replace(/[^a-z|%]/g, '');\n    var endUnit = typeof i === 'number' ? unit[i] : undefined;\n\n    if (startUnit === endUnit) {\n      return parseFloat(data);\n    } else if (!parseFloat(data) && parseFloat(data) !== 0) {\n      return data;\n    }\n\n    return startConvertToEndUnit({\n      target: _this.target,\n      computedStyle: _this.computedStyle,\n      style: key,\n      value: data,\n      startUnit: startUnit,\n      endUnit: endUnit,\n      isOriginWidth: key === 'transformOrigin' && !i\n    });\n  };\n\n  this.getAnimStart = function () {\n    var _tweenVars$key;\n\n    var s = _this.startAt,\n        target = _this.target,\n        key = _this.key,\n        propsData = _this.propsData,\n        computedStyle = _this.computedStyle,\n        tweenVars = _this.tweenVars;\n\n    var startAt = _objectSpread({}, s);\n\n    startAt = propsData.type === 'shadow' && startAt[key] ? parseShadow(startAt[key], key) : startAt;\n    startAt = propsData.type === 'color' && startAt[key] ? parseColor(startAt[key]) : startAt;\n    startAt = propsData.type === 'string' && startAt[key] ? startAt[key].split(/[\\s|,]/) : startAt;\n    var v = (_tweenVars$key = tweenVars[key]) !== null && _tweenVars$key !== void 0 ? _tweenVars$key : (computedStyle || target)[key];\n\n    if (!v || v === 'none' || v === 'auto') {\n      v = '';\n    }\n\n    if (!startAt[key]) {\n      startAt[key] = propsData.type === 'shadow' ? parseShadow(v || '', key) : v;\n      startAt[key] = propsData.type === 'color' && startAt[key] ? parseColor(startAt[key]) : startAt[key];\n      startAt[key] = propsData.type === 'string' && startAt[key] ? startAt[key].split(/[\\s|,]/) : startAt[key];\n    }\n\n    if (styleValueToArray[key]) {\n      var _startAt$key$, _startAt$key$2, _ref, _startAt$key$3;\n\n      startAt[key][1] = (_startAt$key$ = startAt[key][1]) !== null && _startAt$key$ !== void 0 ? _startAt$key$ : startAt[key][0];\n      startAt[key][2] = (_startAt$key$2 = startAt[key][2]) !== null && _startAt$key$2 !== void 0 ? _startAt$key$2 : startAt[key][0];\n      startAt[key][3] = (_ref = (_startAt$key$3 = startAt[key][3]) !== null && _startAt$key$3 !== void 0 ? _startAt$key$3 : startAt[key][1]) !== null && _ref !== void 0 ? _ref : startAt[key][0];\n    }\n\n    var inset = propsData.data.indexOf('inset');\n\n    var d = _toConsumableArray(propsData.data);\n\n    if (inset >= 0) {\n      d.splice(inset, 1);\n    }\n\n    var startData = d.map(function (c, i) {\n      if (typeof c === 'string') {\n        return c;\n      }\n\n      if (startAt[key] && _typeof(startAt[key][i]) !== undefined) {\n        return startAt[key][i];\n      }\n\n      return propsData.type === 'color' && i >= d.length - 1 ? 1 : 0;\n    });\n    var endUnit = propsData.unit;\n    startData = startData.map(function (c, i) {\n      if (parseFloat(c).toString() === 'NaN') {\n        return c;\n      }\n\n      return _this.convertToMarksArray(endUnit, key, c, i);\n    });\n    _this.start = startData.concat(inset >= 0 ? 'inset' : []);\n    return _this.start;\n  };\n\n  this.render = function (ratio) {\n    var start = _this.start,\n        propsData = _this.propsData;\n    var type = propsData.type,\n        splitStr = propsData.splitStr,\n        data = propsData.data,\n        count = propsData.count,\n        unit = propsData.unit;\n    var ratioData = data.map(function (c, i) {\n      return typeof c === 'string' ? c : getValue(start[i], c, ratio, count[i], unit[i]);\n    });\n\n    switch (type) {\n      case 'string':\n        ratioData = ratioData.join(splitStr);\n        break;\n\n      case 'color':\n        ratioData = getColor(ratioData);\n        break;\n\n      case 'shadow':\n        {\n          var startInset = start.indexOf('inset') >= 0;\n          var endInset = ratioData.indexOf('inset') >= 0;\n\n          if (startInset !== endInset) {\n            console.warn('Warning: \"box-shadow\" inset is different, automatically convert to animation param.');\n          }\n\n          var r = endInset ? ratioData.filter(function (c) {\n            return c !== 'inset';\n          }) : ratioData;\n          var s = r.slice(0, r.length - 4).map(function (a) {\n            if (typeof a === 'number') {\n              return \"\".concat(a, \"px\");\n            }\n\n            return a;\n          });\n          var c = getColor(r.slice(r.length - 4, r.length));\n          ratioData = \"\".concat(s.join(' '), \" \").concat(c, \" \").concat(endInset ? 'inset' : '').trim();\n          break;\n        }\n\n      default:\n        break;\n    }\n\n    return ratioData;\n  };\n\n  var type = '';\n  var splitStr = '';\n\n  if (typeof value === 'string') {\n    if (key.match(/color|fill|stroke/i)) {\n      this.value = parseColor(value);\n      type = 'color';\n    } else if (key.match(/shadow/i)) {\n      this.value = parseShadow(value, key);\n      type = 'shadow';\n    } else {\n      splitStr = value.replace(/[^\\s|,]/g, '').replace(/\\s+/g, ' ');\n      this.value = value.split(/[\\s|,]/);\n      type = 'string';\n    }\n  }\n\n  this.setDefaultData(type, splitStr);\n};\n\nArrayPlugin.className = 'ArrayPlugin';\nexport default ArrayPlugin;","map":{"version":3,"sources":["/Users/stewardsun/Desktop/技术栈/React项目/Boss Recruitment/bob-recruitment-client/node_modules/tween-one/es/plugins/ArrayPlugin.js"],"names":["_typeof","_objectSpread","_toConsumableArray","_classCallCheck","parseColor","getColor","parseShadow","getValue","startConvertToEndUnit","styleValueToArray","ArrayPlugin","value","key","_this","start","tweenVars","vars","propsData","data","unit","count","setDefaultData","type","splitStr","v","map","c","parseFloat","toString","replace","convertToMarksArray","i","startUnit","endUnit","undefined","target","computedStyle","style","isOriginWidth","getAnimStart","_tweenVars$key","s","startAt","split","_startAt$key$","_startAt$key$2","_ref","_startAt$key$3","inset","indexOf","d","splice","startData","length","concat","render","ratio","ratioData","join","startInset","endInset","console","warn","r","filter","slice","a","trim","match","className"],"mappings":"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","sourcesContent":["import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { parseColor, getColor, parseShadow } from 'style-utils';\nimport { getValue, startConvertToEndUnit, styleValueToArray } from '../utils';\n\nvar ArrayPlugin = function ArrayPlugin(value, key) {\n  var _this = this;\n\n  _classCallCheck(this, ArrayPlugin);\n\n  this.value = value;\n  this.key = key;\n  this.start = [];\n  this.tweenVars = {};\n  this.vars = {};\n  this.propsData = {\n    data: [],\n    unit: [],\n    count: []\n  };\n\n  this.setDefaultData = function (type, splitStr) {\n    var propsData = _this.propsData,\n        value = _this.value;\n\n    var v = _toConsumableArray(value);\n\n    if (type === 'color') {\n      v[3] = v[3] || 1;\n    }\n\n    propsData.type = type;\n    propsData.data = v.map(function (c) {\n      return !parseFloat(c) && parseFloat(c) !== 0 ? c : parseFloat(c);\n    });\n    propsData.unit = v.map(function (c) {\n      return c.toString().replace(/[^a-z|%]/g, '');\n    });\n    propsData.count = v.map(function (c) {\n      return c.toString().replace(/[^+|=|-]/g, '');\n    });\n\n    if (splitStr) {\n      propsData.splitStr = splitStr;\n    }\n  };\n\n  this.convertToMarksArray = function (unit, key, data, i) {\n    var startUnit = (data || '').toString().replace(/[^a-z|%]/g, '');\n    var endUnit = typeof i === 'number' ? unit[i] : undefined;\n\n    if (startUnit === endUnit) {\n      return parseFloat(data);\n    } else if (!parseFloat(data) && parseFloat(data) !== 0) {\n      return data;\n    }\n\n    return startConvertToEndUnit({\n      target: _this.target,\n      computedStyle: _this.computedStyle,\n      style: key,\n      value: data,\n      startUnit: startUnit,\n      endUnit: endUnit,\n      isOriginWidth: key === 'transformOrigin' && !i\n    });\n  };\n\n  this.getAnimStart = function () {\n    var _tweenVars$key;\n\n    var s = _this.startAt,\n        target = _this.target,\n        key = _this.key,\n        propsData = _this.propsData,\n        computedStyle = _this.computedStyle,\n        tweenVars = _this.tweenVars;\n\n    var startAt = _objectSpread({}, s);\n\n    startAt = propsData.type === 'shadow' && startAt[key] ? parseShadow(startAt[key], key) : startAt;\n    startAt = propsData.type === 'color' && startAt[key] ? parseColor(startAt[key]) : startAt;\n    startAt = propsData.type === 'string' && startAt[key] ? startAt[key].split(/[\\s|,]/) : startAt;\n    var v = (_tweenVars$key = tweenVars[key]) !== null && _tweenVars$key !== void 0 ? _tweenVars$key : (computedStyle || target)[key];\n\n    if (!v || v === 'none' || v === 'auto') {\n      v = '';\n    }\n\n    if (!startAt[key]) {\n      startAt[key] = propsData.type === 'shadow' ? parseShadow(v || '', key) : v;\n      startAt[key] = propsData.type === 'color' && startAt[key] ? parseColor(startAt[key]) : startAt[key];\n      startAt[key] = propsData.type === 'string' && startAt[key] ? startAt[key].split(/[\\s|,]/) : startAt[key];\n    }\n\n    if (styleValueToArray[key]) {\n      var _startAt$key$, _startAt$key$2, _ref, _startAt$key$3;\n\n      startAt[key][1] = (_startAt$key$ = startAt[key][1]) !== null && _startAt$key$ !== void 0 ? _startAt$key$ : startAt[key][0];\n      startAt[key][2] = (_startAt$key$2 = startAt[key][2]) !== null && _startAt$key$2 !== void 0 ? _startAt$key$2 : startAt[key][0];\n      startAt[key][3] = (_ref = (_startAt$key$3 = startAt[key][3]) !== null && _startAt$key$3 !== void 0 ? _startAt$key$3 : startAt[key][1]) !== null && _ref !== void 0 ? _ref : startAt[key][0];\n    }\n\n    var inset = propsData.data.indexOf('inset');\n\n    var d = _toConsumableArray(propsData.data);\n\n    if (inset >= 0) {\n      d.splice(inset, 1);\n    }\n\n    var startData = d.map(function (c, i) {\n      if (typeof c === 'string') {\n        return c;\n      }\n\n      if (startAt[key] && _typeof(startAt[key][i]) !== undefined) {\n        return startAt[key][i];\n      }\n\n      return propsData.type === 'color' && i >= d.length - 1 ? 1 : 0;\n    });\n    var endUnit = propsData.unit;\n    startData = startData.map(function (c, i) {\n      if (parseFloat(c).toString() === 'NaN') {\n        return c;\n      }\n\n      return _this.convertToMarksArray(endUnit, key, c, i);\n    });\n    _this.start = startData.concat(inset >= 0 ? 'inset' : []);\n    return _this.start;\n  };\n\n  this.render = function (ratio) {\n    var start = _this.start,\n        propsData = _this.propsData;\n    var type = propsData.type,\n        splitStr = propsData.splitStr,\n        data = propsData.data,\n        count = propsData.count,\n        unit = propsData.unit;\n    var ratioData = data.map(function (c, i) {\n      return typeof c === 'string' ? c : getValue(start[i], c, ratio, count[i], unit[i]);\n    });\n\n    switch (type) {\n      case 'string':\n        ratioData = ratioData.join(splitStr);\n        break;\n\n      case 'color':\n        ratioData = getColor(ratioData);\n        break;\n\n      case 'shadow':\n        {\n          var startInset = start.indexOf('inset') >= 0;\n          var endInset = ratioData.indexOf('inset') >= 0;\n\n          if (startInset !== endInset) {\n            console.warn('Warning: \"box-shadow\" inset is different, automatically convert to animation param.');\n          }\n\n          var r = endInset ? ratioData.filter(function (c) {\n            return c !== 'inset';\n          }) : ratioData;\n          var s = r.slice(0, r.length - 4).map(function (a) {\n            if (typeof a === 'number') {\n              return \"\".concat(a, \"px\");\n            }\n\n            return a;\n          });\n          var c = getColor(r.slice(r.length - 4, r.length));\n          ratioData = \"\".concat(s.join(' '), \" \").concat(c, \" \").concat(endInset ? 'inset' : '').trim();\n          break;\n        }\n\n      default:\n        break;\n    }\n\n    return ratioData;\n  };\n\n  var type = '';\n  var splitStr = '';\n\n  if (typeof value === 'string') {\n    if (key.match(/color|fill|stroke/i)) {\n      this.value = parseColor(value);\n      type = 'color';\n    } else if (key.match(/shadow/i)) {\n      this.value = parseShadow(value, key);\n      type = 'shadow';\n    } else {\n      splitStr = value.replace(/[^\\s|,]/g, '').replace(/\\s+/g, ' ');\n      this.value = value.split(/[\\s|,]/);\n      type = 'string';\n    }\n  }\n\n  this.setDefaultData(type, splitStr);\n};\n\nArrayPlugin.className = 'ArrayPlugin';\nexport default ArrayPlugin;"]},"metadata":{},"sourceType":"module"}