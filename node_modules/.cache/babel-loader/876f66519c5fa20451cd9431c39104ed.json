{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { interpolate } from 'flubber';\n\nvar SvgMorph = function SvgMorph(value, key) {\n  var _this = this;\n\n  _classCallCheck(this, SvgMorph);\n\n  this.value = value;\n  this.key = key;\n  this.start = '';\n  this.vars = {};\n\n  this.getPointVars = function (d) {\n    if (Array.isArray(d)) {\n      return d;\n    }\n\n    return d.replace(/\\,\\s+/g, ',').split(/\\s+/).map(function (item) {\n      return item.split(',').map(function (_item) {\n        return parseFloat(_item.replace(/[a-z]/gi, ''));\n      });\n    });\n  };\n\n  this.polygonPoints = function (start, end) {\n    var startArray = _this.getPointVars(start);\n\n    var endArray = _this.getPointVars(end);\n\n    if (startArray.length !== endArray.length) {\n      var t = startArray.length > endArray.length;\n      var long = t ? startArray : endArray;\n      var short = long === startArray ? endArray : startArray;\n\n      for (var i = short.length; i < long.length; i++) {\n        short[i] = short[short.length - 1];\n      }\n\n      return t ? [long, short] : [short, long];\n    }\n\n    return [startArray, endArray];\n  };\n\n  this.getAnimStart = function () {\n    var target = _this.target,\n        _this$startAt = _this.startAt,\n        startAt = _this$startAt === void 0 ? {} : _this$startAt,\n        key = _this.key;\n    var tagName = target.tagName;\n\n    if (startAt[key]) {\n      if (_typeof(startAt[key]) === 'object') {\n        _this.attr = startAt[key].attr || _this.attr;\n        _this.start = startAt[key].path;\n        _this.maxSegmentLength = startAt[key].maxSegmentLength;\n      } else if (typeof startAt[key] === 'string') {\n        _this.start = startAt[key];\n      }\n    } // svg 标签强制 attr 为标签的 attr;\n\n\n    _this.attr = tagName === 'polygon' ? 'points' : _this.attr;\n    _this.attr = tagName === 'path' ? 'd' : _this.attr;\n    _this.start = _this.start || (target.getAttribute ? target.getAttribute(_this.attr) : target[_this.attr]);\n    _this.start = _this.start || 'M0,0Z';\n\n    if (tagName === 'polygon' || _this.attr === 'points') {\n      _this.pointsArray = _this.polygonPoints(_this.start, _this.toPath);\n    } else {\n      _this.interpolator = interpolate(_this.start, _this.toPath, {\n        maxSegmentLength: _this.maxSegmentLength\n      });\n    }\n\n    return _this.start;\n  };\n\n  this.setArrayRatio = function (ratio, start, item, i) {\n    if (typeof item === 'string') {\n      return item;\n    }\n\n    var startData = start[i];\n    return (item - startData) * ratio + startData;\n  };\n\n  this.render = function (r) {\n    var target = _this.target;\n    var tagName = target.tagName;\n    var s;\n\n    if (tagName === 'polygon' || _this.attr === 'points') {\n      var start = _this.pointsArray[0];\n      s = _this.pointsArray[1].map(function (item, i) {\n        return item.map(function (c, ci) {\n          return _this.setArrayRatio(r, start[i], c, ci);\n        }).join(', ');\n      }).join(' ');\n    } else {\n      s = _this.interpolator(r);\n    }\n\n    return {\n      path: s,\n      attr: _this.attr\n    };\n  };\n\n  this.attr = value.attr || '';\n  this.toPath = value.path;\n  this.maxSegmentLength = typeof value.maxSegmentLength === 'undefined' ? 0.5 : value.maxSegmentLength;\n};\n\nexport { SvgMorph as default };\nSvgMorph.key = 'setAttribute';\nSvgMorph.className = 'SVGMorph';","map":{"version":3,"sources":["/Users/stewardsun/Desktop/技术栈/React项目/Boss Recruitment/bob-recruitment-client/node_modules/tween-one/es/plugins/SvgMorphPlugin.js"],"names":["_typeof","_classCallCheck","interpolate","SvgMorph","value","key","_this","start","vars","getPointVars","d","Array","isArray","replace","split","map","item","_item","parseFloat","polygonPoints","end","startArray","endArray","length","t","long","short","i","getAnimStart","target","_this$startAt","startAt","tagName","attr","path","maxSegmentLength","getAttribute","pointsArray","toPath","interpolator","setArrayRatio","ratio","startData","render","r","s","c","ci","join","default","className"],"mappings":"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","sourcesContent":["import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { interpolate } from 'flubber';\n\nvar SvgMorph = function SvgMorph(value, key) {\n  var _this = this;\n\n  _classCallCheck(this, SvgMorph);\n\n  this.value = value;\n  this.key = key;\n  this.start = '';\n  this.vars = {};\n\n  this.getPointVars = function (d) {\n    if (Array.isArray(d)) {\n      return d;\n    }\n\n    return d.replace(/\\,\\s+/g, ',').split(/\\s+/).map(function (item) {\n      return item.split(',').map(function (_item) {\n        return parseFloat(_item.replace(/[a-z]/gi, ''));\n      });\n    });\n  };\n\n  this.polygonPoints = function (start, end) {\n    var startArray = _this.getPointVars(start);\n\n    var endArray = _this.getPointVars(end);\n\n    if (startArray.length !== endArray.length) {\n      var t = startArray.length > endArray.length;\n      var long = t ? startArray : endArray;\n      var short = long === startArray ? endArray : startArray;\n\n      for (var i = short.length; i < long.length; i++) {\n        short[i] = short[short.length - 1];\n      }\n\n      return t ? [long, short] : [short, long];\n    }\n\n    return [startArray, endArray];\n  };\n\n  this.getAnimStart = function () {\n    var target = _this.target,\n        _this$startAt = _this.startAt,\n        startAt = _this$startAt === void 0 ? {} : _this$startAt,\n        key = _this.key;\n    var tagName = target.tagName;\n\n    if (startAt[key]) {\n      if (_typeof(startAt[key]) === 'object') {\n        _this.attr = startAt[key].attr || _this.attr;\n        _this.start = startAt[key].path;\n        _this.maxSegmentLength = startAt[key].maxSegmentLength;\n      } else if (typeof startAt[key] === 'string') {\n        _this.start = startAt[key];\n      }\n    } // svg 标签强制 attr 为标签的 attr;\n\n\n    _this.attr = tagName === 'polygon' ? 'points' : _this.attr;\n    _this.attr = tagName === 'path' ? 'd' : _this.attr;\n    _this.start = _this.start || (target.getAttribute ? target.getAttribute(_this.attr) : target[_this.attr]);\n    _this.start = _this.start || 'M0,0Z';\n\n    if (tagName === 'polygon' || _this.attr === 'points') {\n      _this.pointsArray = _this.polygonPoints(_this.start, _this.toPath);\n    } else {\n      _this.interpolator = interpolate(_this.start, _this.toPath, {\n        maxSegmentLength: _this.maxSegmentLength\n      });\n    }\n\n    return _this.start;\n  };\n\n  this.setArrayRatio = function (ratio, start, item, i) {\n    if (typeof item === 'string') {\n      return item;\n    }\n\n    var startData = start[i];\n    return (item - startData) * ratio + startData;\n  };\n\n  this.render = function (r) {\n    var target = _this.target;\n    var tagName = target.tagName;\n    var s;\n\n    if (tagName === 'polygon' || _this.attr === 'points') {\n      var start = _this.pointsArray[0];\n      s = _this.pointsArray[1].map(function (item, i) {\n        return item.map(function (c, ci) {\n          return _this.setArrayRatio(r, start[i], c, ci);\n        }).join(', ');\n      }).join(' ');\n    } else {\n      s = _this.interpolator(r);\n    }\n\n    return {\n      path: s,\n      attr: _this.attr\n    };\n  };\n\n  this.attr = value.attr || '';\n  this.toPath = value.path;\n  this.maxSegmentLength = typeof value.maxSegmentLength === 'undefined' ? 0.5 : value.maxSegmentLength;\n};\n\nexport { SvgMorph as default };\nSvgMorph.key = 'setAttribute';\nSvgMorph.className = 'SVGMorph';"]},"metadata":{},"sourceType":"module"}