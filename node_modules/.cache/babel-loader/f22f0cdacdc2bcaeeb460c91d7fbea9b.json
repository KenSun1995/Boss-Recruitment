{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport Plugins from './plugins';\nimport StylePlugin from './plugins/StylePlugin';\nimport ArrayPlugin from './plugins/ArrayPlugin';\nimport GradientsPlugin from './plugins/GradientsPlugin';\nimport Ticker from './animate/ticker';\nimport Timeline from './animate/timeline';\nimport Animate from './animate/animate';\nimport { getInitProps, dataToArray, initAnimProps, flatArray } from './utils';\nimport ticker from './animate/ticker';\nPlugins.push(ArrayPlugin);\nPlugins.push(GradientsPlugin);\nPlugins.push(StylePlugin);\nvar tweenId = 0;\nvar globalTimeline = new Timeline();\n\nvar Tween = /*#__PURE__*/function () {\n  function Tween(targets, props) {\n    var _this = this;\n\n    _classCallCheck(this, Tween);\n\n    this.targets = targets;\n    this.props = props;\n    this.$reverse = false;\n    this.vars = [];\n\n    this.init = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(vars) {\n        var props;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                props = getInitProps(vars);\n\n                if (_this.targets[0].tagName && !_this.attr) {\n                  props.animation = dataToArray(props.animation).map(function (item) {\n                    var c = {\n                      style: {}\n                    };\n\n                    for (var k in item) {\n                      //Object.keys(item).forEach(k => {\n                      if (k in Plugins || k in initAnimProps) {\n                        c[k] = item[k];\n                      } else {\n                        c.style[k] = item[k];\n                      } //});\n\n                    }\n\n                    if (!Object.keys(c.style).length) {\n                      delete c.style;\n                    } // 时间去掉小数点;\n\n\n                    if (item.duration) {\n                      item.duration = Math.round(item.duration);\n                    }\n\n                    if (item.delay) {\n                      item.delay = Math.round(item.delay);\n                    }\n\n                    if (item.appearTo) {\n                      item.appearTo = Math.round(item.appearTo);\n                    }\n\n                    if (item.repeatDelay) {\n                      item.repeatDelay = Math.round(item.repeatDelay);\n                    }\n\n                    return c;\n                  });\n                }\n\n                _this.animate = new Animate(props);\n                _this.animate.id = \"TweenOne_\".concat(tweenId);\n                tweenId++;\n                _this.animate.startTime = _this.initTime;\n                _this.animate.onChangeChild = _this.onChange;\n                _this.animate.onChangeTimeline = _this.onChangeTimeline;\n                _this.animate.root = _this;\n                _this.animate.parent = _this.timeline;\n\n                _this.animate.init();\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    this.renderToDom = function () {\n      // vars.forEach((item, i) => {\n      for (var i = 0; i < _this.vars.length; i++) {\n        var item = _this.vars[i]; // Object.keys(item).forEach((key: string) => {\n\n        for (var key in item) {\n          var value = item[key];\n          var target = _this.targets[i];\n\n          if (!target) {\n            continue;\n          }\n\n          if (_this.props.attr && target.tagName && target.setAttribute) {\n            if (key === 'style') {\n              // Object.keys(value).forEach(key => {\n              for (var ck in value) {\n                target.style[ck] = value[key];\n              } // });\n\n            }\n\n            target.setAttribute(key, value);\n          } else if (key in Plugins && target.tagName) {\n            var $key = Plugins[key].key;\n\n            if (typeof target[$key] === 'function') {\n              target[$key](value.attr, value.path);\n            } else if ($key && _typeof(value) === 'object') {\n              //Object.keys(value).forEach(ck => {\n              for (var _ck in value) {\n                var va = value[_ck];\n                target[$key][_ck] = va.text || va;\n              } //});\n\n            } else if ($key) {\n              target[$key] = value;\n            }\n          } else {\n            target[key] = value;\n          } // });\n\n        }\n      } //});\n\n    };\n\n    this.onChange = function (e) {\n      if (e.mode === 'onComplete' && e.render) {\n        _this.renderToDom();\n      }\n\n      if (e.mode && _this.props.onChange && !e.silence) {\n        e.targets = flatArray(e.targets);\n        e.vars = flatArray(e.vars);\n\n        _this.props.onChange(e);\n      }\n    };\n\n    this.onChangeTimeline = function (e) {\n      _this.renderToDom();\n\n      if (e.mode && _this.props.onChangeTimeline) {\n        e.targets = flatArray(e.targets);\n        e.vars = flatArray(_this.vars);\n\n        _this.props.onChangeTimeline(e);\n      }\n    };\n\n    this.goto = function (moment, paused) {\n      _this.targets.forEach(function (item) {\n        if (!item) {\n          return;\n        }\n\n        Object.keys(item._tweenOneVars || {}).forEach(function (key) {\n          delete item._tweenOneVars[key];\n        });\n      });\n\n      _this.animate.goto(moment, paused);\n    };\n\n    this.kill = function (index) {\n      _this.animate.kill(index);\n    };\n\n    this.timeline = globalTimeline;\n    this.initTime = Ticker.time;\n    this.attr = props.attr;\n    targets.forEach(function (item) {\n      _this.vars.push(item._tweenOneVars);\n    });\n    this.init(props);\n  }\n\n  _createClass(Tween, [{\n    key: \"paused\",\n    set: function set(v) {\n      this.animate.paused(v);\n    },\n    get: function get() {\n      return this.animate.pausedState;\n    }\n  }, {\n    key: \"reverse\",\n    set: function set(v) {\n      this.$reverse = v;\n      this.animate.reverse(v);\n    },\n    get: function get() {\n      return this.$reverse;\n    }\n  }, {\n    key: \"regionStartTime\",\n    set: function set(v) {\n      this.animate.regionStartTime = v;\n      this.animate.setTotalTime();\n    },\n    get: function get() {\n      return this.animate.regionStartTime;\n    }\n  }, {\n    key: \"regionEndTime\",\n    set: function set(v) {\n      this.animate.regionEndTime = v;\n      this.animate.setTotalTime();\n    },\n    get: function get() {\n      return this.animate.regionEndTime || this.animate.totalTime;\n    }\n  }]);\n\n  return Tween;\n}();\n\nvar TweenOne = function TweenOne(targets, vars) {\n  if (!targets) {\n    return console.error(\"Error: targets is undefined.\");\n  }\n\n  if (ticker.state !== 'wake') {\n    // 先将 ticker 唤醒，避免同时添加时 initTime 出错；\n    ticker.wake();\n  }\n\n  var t = dataToArray(targets).map(function (item) {\n    item._tweenOneVars = item._tweenOneVars || {};\n    return item;\n  }); // 分解 targets 里的元素类型\n\n  var doms = t.filter(function (c) {\n    return c.tagName;\n  });\n  var objs = t.filter(function (c) {\n    return !c.tagName;\n  });\n  var tween = [];\n\n  if (doms.length) {\n    tween.push(new Tween(doms, vars));\n  }\n\n  if (objs.length) {\n    tween.push(new Tween(objs, vars));\n  }\n\n  return flatArray(tween);\n};\n\nTweenOne.kill = function (targets) {\n  if (typeof targets === 'undefined') {\n    globalTimeline.killAll(true);\n  } else {\n    globalTimeline.kill(dataToArray(targets));\n  }\n};\n\nTweenOne.plugins = Plugins;\nexport default TweenOne;\nexport { Tween, globalTimeline };","map":{"version":3,"sources":["/Users/stewardsun/Desktop/技术栈/React项目/Boss Recruitment/bob-recruitment-client/node_modules/tween-one/es/TweenOne.js"],"names":["_typeof","_regeneratorRuntime","_asyncToGenerator","_classCallCheck","_createClass","Plugins","StylePlugin","ArrayPlugin","GradientsPlugin","Ticker","Timeline","Animate","getInitProps","dataToArray","initAnimProps","flatArray","ticker","push","tweenId","globalTimeline","Tween","targets","props","_this","$reverse","vars","init","_ref","mark","_callee","wrap","_callee$","_context","prev","next","tagName","attr","animation","map","item","c","style","k","Object","keys","length","duration","Math","round","delay","appearTo","repeatDelay","animate","id","concat","startTime","initTime","onChangeChild","onChange","onChangeTimeline","root","parent","timeline","stop","_x","apply","arguments","renderToDom","i","key","value","target","setAttribute","ck","$key","path","_ck","va","text","e","mode","render","silence","goto","moment","paused","forEach","_tweenOneVars","kill","index","time","set","v","get","pausedState","reverse","regionStartTime","setTotalTime","regionEndTime","totalTime","TweenOne","console","error","state","wake","t","doms","filter","objs","tween","killAll","plugins"],"mappings":"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","sourcesContent":["import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport Plugins from './plugins';\nimport StylePlugin from './plugins/StylePlugin';\nimport ArrayPlugin from './plugins/ArrayPlugin';\nimport GradientsPlugin from './plugins/GradientsPlugin';\nimport Ticker from './animate/ticker';\nimport Timeline from './animate/timeline';\nimport Animate from './animate/animate';\nimport { getInitProps, dataToArray, initAnimProps, flatArray } from './utils';\nimport ticker from './animate/ticker';\nPlugins.push(ArrayPlugin);\nPlugins.push(GradientsPlugin);\nPlugins.push(StylePlugin);\nvar tweenId = 0;\nvar globalTimeline = new Timeline();\n\nvar Tween = /*#__PURE__*/function () {\n  function Tween(targets, props) {\n    var _this = this;\n\n    _classCallCheck(this, Tween);\n\n    this.targets = targets;\n    this.props = props;\n    this.$reverse = false;\n    this.vars = [];\n\n    this.init = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(vars) {\n        var props;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                props = getInitProps(vars);\n\n                if (_this.targets[0].tagName && !_this.attr) {\n                  props.animation = dataToArray(props.animation).map(function (item) {\n                    var c = {\n                      style: {}\n                    };\n\n                    for (var k in item) {\n                      //Object.keys(item).forEach(k => {\n                      if (k in Plugins || k in initAnimProps) {\n                        c[k] = item[k];\n                      } else {\n                        c.style[k] = item[k];\n                      } //});\n\n                    }\n\n                    if (!Object.keys(c.style).length) {\n                      delete c.style;\n                    } // 时间去掉小数点;\n\n\n                    if (item.duration) {\n                      item.duration = Math.round(item.duration);\n                    }\n\n                    if (item.delay) {\n                      item.delay = Math.round(item.delay);\n                    }\n\n                    if (item.appearTo) {\n                      item.appearTo = Math.round(item.appearTo);\n                    }\n\n                    if (item.repeatDelay) {\n                      item.repeatDelay = Math.round(item.repeatDelay);\n                    }\n\n                    return c;\n                  });\n                }\n\n                _this.animate = new Animate(props);\n                _this.animate.id = \"TweenOne_\".concat(tweenId);\n                tweenId++;\n                _this.animate.startTime = _this.initTime;\n                _this.animate.onChangeChild = _this.onChange;\n                _this.animate.onChangeTimeline = _this.onChangeTimeline;\n                _this.animate.root = _this;\n                _this.animate.parent = _this.timeline;\n\n                _this.animate.init();\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    this.renderToDom = function () {\n      // vars.forEach((item, i) => {\n      for (var i = 0; i < _this.vars.length; i++) {\n        var item = _this.vars[i]; // Object.keys(item).forEach((key: string) => {\n\n        for (var key in item) {\n          var value = item[key];\n          var target = _this.targets[i];\n\n          if (!target) {\n            continue;\n          }\n\n          if (_this.props.attr && target.tagName && target.setAttribute) {\n            if (key === 'style') {\n              // Object.keys(value).forEach(key => {\n              for (var ck in value) {\n                target.style[ck] = value[key];\n              } // });\n\n            }\n\n            target.setAttribute(key, value);\n          } else if (key in Plugins && target.tagName) {\n            var $key = Plugins[key].key;\n\n            if (typeof target[$key] === 'function') {\n              target[$key](value.attr, value.path);\n            } else if ($key && _typeof(value) === 'object') {\n              //Object.keys(value).forEach(ck => {\n              for (var _ck in value) {\n                var va = value[_ck];\n                target[$key][_ck] = va.text || va;\n              } //});\n\n            } else if ($key) {\n              target[$key] = value;\n            }\n          } else {\n            target[key] = value;\n          } // });\n\n        }\n      } //});\n\n    };\n\n    this.onChange = function (e) {\n      if (e.mode === 'onComplete' && e.render) {\n        _this.renderToDom();\n      }\n\n      if (e.mode && _this.props.onChange && !e.silence) {\n        e.targets = flatArray(e.targets);\n        e.vars = flatArray(e.vars);\n\n        _this.props.onChange(e);\n      }\n    };\n\n    this.onChangeTimeline = function (e) {\n      _this.renderToDom();\n\n      if (e.mode && _this.props.onChangeTimeline) {\n        e.targets = flatArray(e.targets);\n        e.vars = flatArray(_this.vars);\n\n        _this.props.onChangeTimeline(e);\n      }\n    };\n\n    this.goto = function (moment, paused) {\n      _this.targets.forEach(function (item) {\n        if (!item) {\n          return;\n        }\n\n        Object.keys(item._tweenOneVars || {}).forEach(function (key) {\n          delete item._tweenOneVars[key];\n        });\n      });\n\n      _this.animate.goto(moment, paused);\n    };\n\n    this.kill = function (index) {\n      _this.animate.kill(index);\n    };\n\n    this.timeline = globalTimeline;\n    this.initTime = Ticker.time;\n    this.attr = props.attr;\n    targets.forEach(function (item) {\n      _this.vars.push(item._tweenOneVars);\n    });\n    this.init(props);\n  }\n\n  _createClass(Tween, [{\n    key: \"paused\",\n    set: function set(v) {\n      this.animate.paused(v);\n    },\n    get: function get() {\n      return this.animate.pausedState;\n    }\n  }, {\n    key: \"reverse\",\n    set: function set(v) {\n      this.$reverse = v;\n      this.animate.reverse(v);\n    },\n    get: function get() {\n      return this.$reverse;\n    }\n  }, {\n    key: \"regionStartTime\",\n    set: function set(v) {\n      this.animate.regionStartTime = v;\n      this.animate.setTotalTime();\n    },\n    get: function get() {\n      return this.animate.regionStartTime;\n    }\n  }, {\n    key: \"regionEndTime\",\n    set: function set(v) {\n      this.animate.regionEndTime = v;\n      this.animate.setTotalTime();\n    },\n    get: function get() {\n      return this.animate.regionEndTime || this.animate.totalTime;\n    }\n  }]);\n\n  return Tween;\n}();\n\nvar TweenOne = function TweenOne(targets, vars) {\n  if (!targets) {\n    return console.error(\"Error: targets is undefined.\");\n  }\n\n  if (ticker.state !== 'wake') {\n    // 先将 ticker 唤醒，避免同时添加时 initTime 出错；\n    ticker.wake();\n  }\n\n  var t = dataToArray(targets).map(function (item) {\n    item._tweenOneVars = item._tweenOneVars || {};\n    return item;\n  }); // 分解 targets 里的元素类型\n\n  var doms = t.filter(function (c) {\n    return c.tagName;\n  });\n  var objs = t.filter(function (c) {\n    return !c.tagName;\n  });\n  var tween = [];\n\n  if (doms.length) {\n    tween.push(new Tween(doms, vars));\n  }\n\n  if (objs.length) {\n    tween.push(new Tween(objs, vars));\n  }\n\n  return flatArray(tween);\n};\n\nTweenOne.kill = function (targets) {\n  if (typeof targets === 'undefined') {\n    globalTimeline.killAll(true);\n  } else {\n    globalTimeline.kill(dataToArray(targets));\n  }\n};\n\nTweenOne.plugins = Plugins;\nexport default TweenOne;\nexport { Tween, globalTimeline };"]},"metadata":{},"sourceType":"module"}