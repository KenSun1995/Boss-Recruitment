{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { svgPathProperties } from 'svg-path-properties';\nimport { checkStyleName, getTransform } from 'style-utils';\nimport { getComputedStyle, getTransformValue, startConvertToEndUnit } from '../utils';\nimport { rawPathToString, arrayToRawPath } from './path-utils';\n\nvar PathMotion = function PathMotion(value, key) {\n  var _this = this;\n\n  _classCallCheck(this, PathMotion);\n\n  this.value = value;\n  this.key = key;\n  this.pathLength = 0;\n  this.start = {};\n  this.tweenVars = {};\n  this.startAt = {};\n  this.keys = ['x', 'y', 'rotate'];\n\n  this.getAnimStart = function () {\n    var target = _this.target,\n        value = _this.value,\n        tweenVars = _this.tweenVars;\n    var tagName = target.tagName;\n\n    if (tagName) {\n      if (!_this.computedStyle) {\n        _this.computedStyle = getComputedStyle(target);\n      }\n\n      if (tweenVars.style && tweenVars.style.transform) {\n        _this.start = tweenVars.style.transform;\n      } else {\n        var transform = getTransform(_this.computedStyle[checkStyleName('transform')]);\n        _this.start = transform;\n        tweenVars.style = tweenVars.style || {};\n        tweenVars.style.transform = tweenVars.style.transform || transform;\n      }\n\n      var _value$center = value.center,\n          center = _value$center === void 0 ? ['50%', '50%'] : _value$center;\n      _this.value.center = center.map(function (c, i) {\n        return startConvertToEndUnit({\n          target: target,\n          computedStyle: _this.computedStyle,\n          style: !i ? 'width' : 'height',\n          value: parseFloat(c),\n          startUnit: c.toString().replace(/[^a-z|%]/g, ''),\n          useCurrentTarget: true\n        });\n      });\n    } else {\n      _this.start = {};\n\n      _this.keys.forEach(function (key) {\n        if (_this.value[key]) {\n          _this.start[key] = 0;\n        }\n      });\n    }\n  };\n\n  this.getPoint = function (r, offset) {\n    var o = offset || 0;\n    var p = _this.pathLength * r + o;\n    return _this.path ? _this.path.getPointAtLength(p) : 0;\n  };\n\n  this.render = function (r) {\n    var value = _this.value,\n        target = _this.target,\n        getPoint = _this.getPoint,\n        tweenVars = _this.tweenVars;\n    var tagName = target.tagName;\n    var p = getPoint(r);\n    var p0 = getPoint(r, 0.5);\n    var p1 = getPoint(r, -0.5);\n    var rotate = value.rotate,\n        x = value.x,\n        y = value.y,\n        _value$center2 = value.center,\n        center = _value$center2 === void 0 ? [0, 0] : _value$center2;\n    var vars = tagName ? tweenVars.style || {} : tweenVars;\n\n    if (tagName) {\n      if (rotate) {\n        vars.transform.rotate = Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n      }\n\n      if (x) {\n        vars.transform.translateX = p.x - parseFloat(center[0]);\n      }\n\n      if (y) {\n        vars.transform.translateY = p.y - parseFloat(center[1]);\n      }\n\n      vars.transform.text = getTransformValue(vars.transform);\n    } else {\n      if (rotate) {\n        vars.rotate = Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n      }\n\n      if (x) {\n        vars.x = p.x - parseFloat(center[0]);\n      }\n\n      if (y) {\n        vars.y = p.y - parseFloat(center[1]);\n      }\n    }\n\n    return vars;\n  };\n\n  if (typeof value === 'string') {\n    this.value = {\n      path: value\n    };\n  }\n\n  this.keys.forEach(function (key) {\n    if (!(key in _this.value)) {\n      _this.value[key] = true;\n    }\n  });\n  var _this$value = this.value,\n      path = _this$value.path,\n      pathVars = _this$value.pathVars;\n\n  if (Array.isArray(path)) {\n    path = pathVars.curviness !== 0 ? rawPathToString(arrayToRawPath(path, pathVars || {})) : path.map(function (item, i) {\n      return \"\".concat(!i ? 'M' : 'L').concat(item.x, \" \").concat(item.y);\n    }).join('');\n  }\n\n  this.path = new svgPathProperties(path);\n  this.pathLength = this.path.getTotalLength();\n};\n\nexport { PathMotion as default };\nPathMotion.key = 'style';\nPathMotion.className = 'PathMotion';","map":{"version":3,"sources":["/Users/stewardsun/Desktop/技术栈/React项目/Boss Recruitment/bob-recruitment-client/node_modules/tween-one/es/plugins/PathMotionPlugin.js"],"names":["_classCallCheck","svgPathProperties","checkStyleName","getTransform","getComputedStyle","getTransformValue","startConvertToEndUnit","rawPathToString","arrayToRawPath","PathMotion","value","key","_this","pathLength","start","tweenVars","startAt","keys","getAnimStart","target","tagName","computedStyle","style","transform","_value$center","center","map","c","i","parseFloat","startUnit","toString","replace","useCurrentTarget","forEach","getPoint","r","offset","o","p","path","getPointAtLength","render","p0","p1","rotate","x","y","_value$center2","vars","Math","atan2","PI","translateX","translateY","text","_this$value","pathVars","Array","isArray","curviness","item","concat","join","getTotalLength","default","className"],"mappings":"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","sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { svgPathProperties } from 'svg-path-properties';\nimport { checkStyleName, getTransform } from 'style-utils';\nimport { getComputedStyle, getTransformValue, startConvertToEndUnit } from '../utils';\nimport { rawPathToString, arrayToRawPath } from './path-utils';\n\nvar PathMotion = function PathMotion(value, key) {\n  var _this = this;\n\n  _classCallCheck(this, PathMotion);\n\n  this.value = value;\n  this.key = key;\n  this.pathLength = 0;\n  this.start = {};\n  this.tweenVars = {};\n  this.startAt = {};\n  this.keys = ['x', 'y', 'rotate'];\n\n  this.getAnimStart = function () {\n    var target = _this.target,\n        value = _this.value,\n        tweenVars = _this.tweenVars;\n    var tagName = target.tagName;\n\n    if (tagName) {\n      if (!_this.computedStyle) {\n        _this.computedStyle = getComputedStyle(target);\n      }\n\n      if (tweenVars.style && tweenVars.style.transform) {\n        _this.start = tweenVars.style.transform;\n      } else {\n        var transform = getTransform(_this.computedStyle[checkStyleName('transform')]);\n        _this.start = transform;\n        tweenVars.style = tweenVars.style || {};\n        tweenVars.style.transform = tweenVars.style.transform || transform;\n      }\n\n      var _value$center = value.center,\n          center = _value$center === void 0 ? ['50%', '50%'] : _value$center;\n      _this.value.center = center.map(function (c, i) {\n        return startConvertToEndUnit({\n          target: target,\n          computedStyle: _this.computedStyle,\n          style: !i ? 'width' : 'height',\n          value: parseFloat(c),\n          startUnit: c.toString().replace(/[^a-z|%]/g, ''),\n          useCurrentTarget: true\n        });\n      });\n    } else {\n      _this.start = {};\n\n      _this.keys.forEach(function (key) {\n        if (_this.value[key]) {\n          _this.start[key] = 0;\n        }\n      });\n    }\n  };\n\n  this.getPoint = function (r, offset) {\n    var o = offset || 0;\n    var p = _this.pathLength * r + o;\n    return _this.path ? _this.path.getPointAtLength(p) : 0;\n  };\n\n  this.render = function (r) {\n    var value = _this.value,\n        target = _this.target,\n        getPoint = _this.getPoint,\n        tweenVars = _this.tweenVars;\n    var tagName = target.tagName;\n    var p = getPoint(r);\n    var p0 = getPoint(r, 0.5);\n    var p1 = getPoint(r, -0.5);\n    var rotate = value.rotate,\n        x = value.x,\n        y = value.y,\n        _value$center2 = value.center,\n        center = _value$center2 === void 0 ? [0, 0] : _value$center2;\n    var vars = tagName ? tweenVars.style || {} : tweenVars;\n\n    if (tagName) {\n      if (rotate) {\n        vars.transform.rotate = Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n      }\n\n      if (x) {\n        vars.transform.translateX = p.x - parseFloat(center[0]);\n      }\n\n      if (y) {\n        vars.transform.translateY = p.y - parseFloat(center[1]);\n      }\n\n      vars.transform.text = getTransformValue(vars.transform);\n    } else {\n      if (rotate) {\n        vars.rotate = Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n      }\n\n      if (x) {\n        vars.x = p.x - parseFloat(center[0]);\n      }\n\n      if (y) {\n        vars.y = p.y - parseFloat(center[1]);\n      }\n    }\n\n    return vars;\n  };\n\n  if (typeof value === 'string') {\n    this.value = {\n      path: value\n    };\n  }\n\n  this.keys.forEach(function (key) {\n    if (!(key in _this.value)) {\n      _this.value[key] = true;\n    }\n  });\n  var _this$value = this.value,\n      path = _this$value.path,\n      pathVars = _this$value.pathVars;\n\n  if (Array.isArray(path)) {\n    path = pathVars.curviness !== 0 ? rawPathToString(arrayToRawPath(path, pathVars || {})) : path.map(function (item, i) {\n      return \"\".concat(!i ? 'M' : 'L').concat(item.x, \" \").concat(item.y);\n    }).join('');\n  }\n\n  this.path = new svgPathProperties(path);\n  this.pathLength = this.path.getTotalLength();\n};\n\nexport { PathMotion as default };\nPathMotion.key = 'style';\nPathMotion.className = 'PathMotion';"]},"metadata":{},"sourceType":"module"}