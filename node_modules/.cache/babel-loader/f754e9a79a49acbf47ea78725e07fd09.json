{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { colorRegExp, getValue } from '../utils';\nimport { parseColor, getColor } from 'style-utils';\nvar angleData = {\n  linear: {\n    'to top': '0deg',\n    'to top right': '45deg',\n    'to right top': '45deg',\n    'to right': '90deg',\n    'to right bottom': '135deg',\n    'to bottom right': '135deg',\n    'to bottom': '180deg',\n    'to bottom left': '225deg',\n    'to left bottom': '225deg',\n    'to left': '270deg',\n    'to left top': '315deg',\n    'to top left': '315deg'\n  },\n  radial: {\n    center: '50% 50%',\n    top: '50% 0%',\n    'top right': '100% 0%',\n    'right top': '100% 0%',\n    right: '100% 50%',\n    'right bottom': '100% 100%',\n    'bottom right': '100% 100%',\n    bottom: '50% 100%',\n    'bottom left': '0% 100%',\n    'left bottom': '0% 100%',\n    left: '0% 50%',\n    'left top': '0% 0%',\n    'top left': '0% 0%'\n  }\n};\nvar extentKeyWord = ['closest-side', 'closest-corner', 'farthest-side', 'farthest-corner'];\n\nvar consoleWarn = function consoleWarn(key, start, to) {\n  console.warn(\"Warning: The gradient \".concat(key, \"(\").concat(start, \" => \").concat(to, \") is different, which has been automatically converted to animation gradient \").concat(key, \"(\").concat(to, \").\"));\n}; // background-image functions: https://developer.mozilla.org/en-US/docs/Web/CSS/background-image\n\n\nvar noGradient = function noGradient(type) {\n  return type === 'url' || type.indexOf('image') >= 0 || type === 'paint' || type === 'cross-fade' || type === 'element';\n};\n\nvar GradientsPlugin = function GradientsPlugin(value) {\n  var _this = this;\n\n  _classCallCheck(this, GradientsPlugin);\n\n  this.start = [];\n  this.tweenVars = {};\n  this.vars = [];\n  this.defaultStartVars = [];\n\n  this.getPosition = function (data) {\n    return data.map(function (t) {\n      return {\n        data: parseFloat(t),\n        unit: t.replace(/[^a-z|%]/g, '')\n      };\n    });\n  };\n\n  this.getAngle = function (type, $angle) {\n    var t = type.replace(/-|gradient|repeating]/g, '');\n    var extent;\n    var shape;\n    var angle;\n    var position;\n\n    switch (t) {\n      case 'linear':\n        {\n          angle = _this.getPosition((angleData.linear[$angle] || $angle || angleData.linear['to bottom']).split(' '));\n          break;\n        }\n\n      case 'radial':\n        {\n          var angleSplit = $angle.split(' ');\n          extent = angleSplit.find(function (s) {\n            return extentKeyWord.indexOf(s) >= 0;\n          }) || extentKeyWord[3];\n          shape = angleSplit.find(function (s) {\n            return s === 'circle' || s === 'ellipse';\n          }) || 'ellipse';\n          var req = new RegExp(\"\".concat(extent, \"|\").concat(shape, \"|at\"), 'g');\n          var p = $angle.replace(req, '').trim();\n          position = _this.getPosition((angleData.radial[p] || p || angleData.radial.center).split(' '));\n          break;\n        }\n\n      case 'conic':\n        {\n          var _angleSplit = $angle.split('at').map(function (c) {\n            return c.trim();\n          });\n\n          var n = (_angleSplit[0] || '').split(' ');\n          shape = n[0] || 'from';\n          angle = _this.getPosition([n[1] || '0deg']);\n          position = _this.getPosition((angleData.radial[_angleSplit[1]] || _angleSplit[1] || angleData.radial.center).split(' '));\n          break;\n        }\n\n      default:\n        break;\n    }\n\n    return {\n      extent: extent,\n      shape: shape,\n      angle: angle,\n      position: position\n    };\n  };\n\n  this.valueToIValue = function (value) {\n    if (!value) {\n      return [];\n    }\n\n    var v = value.replace(/\\),\\s+?(url|radial|conic|linear|repeating|image|element|cross|paint)/, ')#,#$1').split('#,#'); //.match(/[a-z|-]+\\(([\\s\\S]*?)\\)/gi) || [];\n\n    return v.map(function (str) {\n      var type = str.replace(/([a-z|-]+)\\((.*)\\)/, '$1').trim();\n\n      if (type === 'url') {\n        return {\n          type: type,\n          values: str\n        };\n      }\n\n      var data = str.replace(/([a-z|-]+)\\((.*)\\)/, '$2').replace(/#([0-9a-f]{6}|[0-9a-f]{3})|(rgb[a]?|hsl)+\\(\\d+\\,[\\s+]?\\d+[\\%]?\\,[\\s+]?\\d+[\\%]?(\\,\\d+)?\\)/gi, function (e) {\n        return e.replace(/\\s+/g, '');\n      }).replace(/\\,([a-z|#|\\s+])/g, '#,#$1').split('#,#').map(function (str) {\n        return str.trim();\n      });\n      var a = data[0].match(colorRegExp) ? '' : data[0];\n\n      if (a) {\n        data.splice(0, 1);\n      }\n\n      var angle = _this.getAngle(type, a);\n\n      var values = data.map(function (s) {\n        var colorAndPos = s.trim().split(/\\s+/);\n        var color;\n        var t = colorAndPos[0].match(colorRegExp) ? colorAndPos[0] : colorAndPos[0];\n\n        if (t) {\n          colorAndPos.splice(0, 1);\n          color = parseColor(t);\n        }\n\n        return {\n          color: color,\n          positions: colorAndPos.map(function (s) {\n            return {\n              data: parseFloat(s),\n              unit: s.toString().replace(/[^a-z|%]/g, '')\n            };\n          })\n        };\n      });\n      return {\n        type: type,\n        angle: angle,\n        values: values\n      };\n    });\n  };\n\n  this.getAnimStart = function () {\n    var _tweenVars$key;\n\n    var s = _this.startAt,\n        key = _this.key,\n        computedStyle = _this.computedStyle,\n        target = _this.target,\n        vars = _this.vars,\n        tweenVars = _this.tweenVars;\n\n    var startAt = _objectSpread({}, s);\n\n    var v = (_tweenVars$key = tweenVars[key]) !== null && _tweenVars$key !== void 0 ? _tweenVars$key : (computedStyle || target)[key];\n\n    if (!v || v === 'none' || v === 'auto') {\n      v = '';\n    }\n\n    if (!startAt[key]) {\n      startAt[key] = v ? _this.valueToIValue(v) : _this.defaultStartVars;\n    }\n\n    var maxVarsLength = Math.max(vars.length, startAt[key].length);\n    var startData = (maxVarsLength === startAt[key].length ? startAt[key] : vars).map(function (_, i) {\n      var _item$angle, _start$angle;\n\n      var start = startAt[key][i] || _this.defaultStartVars[i];\n      var item = vars[i] || start;\n\n      if (!start || start.type !== item.type) {\n        if (start.type !== item.type) {\n          consoleWarn('type', start.type, item.type);\n        }\n\n        start = _this.defaultStartVars[i];\n      }\n\n      if (noGradient(item.type) || typeof item.values === 'string' || typeof start.values === 'string') {\n        return _objectSpread({}, item);\n      }\n\n      if (((_item$angle = item.angle) === null || _item$angle === void 0 ? void 0 : _item$angle.extent) !== ((_start$angle = start.angle) === null || _start$angle === void 0 ? void 0 : _start$angle.extent)) {\n        var _start$angle2, _item$angle2;\n\n        consoleWarn('extent keyword', (_start$angle2 = start.angle) === null || _start$angle2 === void 0 ? void 0 : _start$angle2.extent, (_item$angle2 = item.angle) === null || _item$angle2 === void 0 ? void 0 : _item$angle2.extent);\n      }\n\n      var maxLength = Math.max(start.values.length, item.values.length);\n      var values = maxLength === start.values.length ? start.values : item.values;\n      start.values = values.map(function (_, j) {\n        var sValue = start.values[j];\n        var aItem = item.values[j] || sValue;\n        return _objectSpread(_objectSpread({}, sValue), {}, {\n          positions: (aItem || sValue).positions.map(function ($bItem, jj) {\n            var sPos = sValue ? sValue.positions[jj] || sValue.positions[sValue.positions.length - 1] : aItem.positions[aItem.positions.length - 1];\n            var bItem = $bItem || sPos;\n\n            if (!sPos && sValue && start.values.length) {\n              sPos = {\n                data: 100 / (start.values.length - 1) * j,\n                unit: '%'\n              };\n            }\n\n            if (bItem.unit !== sPos.unit) {\n              consoleWarn('units', sPos.unit, bItem.unit);\n            }\n\n            return {\n              data: sPos.data,\n              unit: bItem.unit\n            };\n          })\n        });\n      });\n      return start;\n    });\n    _this.start = startData;\n    return _this.start;\n  };\n\n  this.render = function (ratio) {\n    var value = '';\n    var maxVarsLength = Math.max(_this.vars.length, _this.start.length);\n    (maxVarsLength === _this.vars.length ? _this.vars : _this.start).forEach(function (_, i) {\n      var start = _this.start[i];\n      var item = _this.vars[i] || start;\n\n      if (noGradient(item.type) || typeof item.values === 'string' || !item.angle) {\n        value += \"\".concat(value ? ',' : '', \" \").concat(item.values).trim();\n        return;\n      }\n\n      var maxLength = Math.max(start.values.length, item.values.length);\n      var values = (maxLength === start.values.length ? start.values : item.values).map(function (_, i) {\n        var startItem = start.values[i];\n        var cItem = item.values[i];\n\n        if (!cItem) {\n          cItem = startItem;\n        }\n\n        var startColor = startItem.color;\n        var startPos = startItem.positions;\n\n        if (!startColor && cItem.color) {\n          startColor = _toConsumableArray(cItem.color); // startColor[3] = 0;\n        }\n\n        if (!startPos) {\n          startPos = cItem.positions.map(function (c) {\n            return _objectSpread({}, c);\n          });\n        }\n\n        var color = cItem.color ? cItem.color.map(function (n, j) {\n          return getValue(startColor[j], n, ratio);\n        }) : cItem.color;\n        var positions = cItem.positions.map(function (n, j) {\n          return \"\".concat(getValue(startPos[j].data, n.data, ratio)).concat(n.unit);\n        }).join(' ');\n        return \"\".concat(color ? getColor(color) : color || '', \" \").concat(positions).trim();\n      });\n      var angle = item.angle;\n      var angleAngle = angle.angle && angle.angle.map(function (n, j) {\n        return \"\".concat(getValue(start.angle.angle[j].data, n.data, ratio)).concat(n.unit);\n      }).join(' ');\n      var anglePosition = angle.position && angle.position.map(function (n, j) {\n        return \"\".concat(getValue(start.angle.position[j].data, n.data, ratio)).concat(n.unit);\n      }).join(' ');\n      var newAngle = \"\".concat(angle.extent || '', \" \").concat(angle.shape || '', \" \").concat(angleAngle || '', \" \").concat(anglePosition ? \"at \".concat(anglePosition) : '').trim();\n      value += \"\".concat(value ? ',' : '', \" \").concat(item.type, \"(\").concat(newAngle ? \"\".concat(newAngle, \",\") : '').concat(values.join(','), \")\").trim();\n    });\n    return value;\n  };\n\n  this.value = value;\n  this.key = 'backgroundImage';\n  this.vars = this.valueToIValue(value);\n  this.defaultStartVars = this.vars.map(function (item) {\n    if (noGradient(item.type) || typeof item.values === 'string') {\n      return _objectSpread({}, item);\n    }\n\n    return _objectSpread(_objectSpread({}, item), {}, {\n      values: item.values.map(function (c) {\n        var color;\n\n        if (c.color && typeof c.color !== 'string') {\n          color = _toConsumableArray(c.color);\n          color[3] = 0;\n        } else {\n          color = c.color;\n        }\n\n        return {\n          color: color,\n          positions: _toConsumableArray(c.positions)\n        };\n      })\n    });\n  });\n};\n\nexport { GradientsPlugin as default };\nGradientsPlugin.className = 'GradientsPlugin';","map":{"version":3,"sources":["/Users/stewardsun/Desktop/技术栈/React项目/Boss Recruitment/bob-recruitment-client/node_modules/tween-one/es/plugins/GradientsPlugin.js"],"names":["_toConsumableArray","_objectSpread","_classCallCheck","colorRegExp","getValue","parseColor","getColor","angleData","linear","radial","center","top","right","bottom","left","extentKeyWord","consoleWarn","key","start","to","console","warn","concat","noGradient","type","indexOf","GradientsPlugin","value","_this","tweenVars","vars","defaultStartVars","getPosition","data","map","t","parseFloat","unit","replace","getAngle","$angle","extent","shape","angle","position","split","angleSplit","find","s","req","RegExp","p","trim","_angleSplit","c","n","valueToIValue","v","str","values","e","a","match","splice","colorAndPos","color","positions","toString","getAnimStart","_tweenVars$key","startAt","computedStyle","target","maxVarsLength","Math","max","length","startData","_","i","_item$angle","_start$angle","item","_start$angle2","_item$angle2","maxLength","j","sValue","aItem","$bItem","jj","sPos","bItem","render","ratio","forEach","startItem","cItem","startColor","startPos","join","angleAngle","anglePosition","newAngle","default","className"],"mappings":"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","sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { colorRegExp, getValue } from '../utils';\nimport { parseColor, getColor } from 'style-utils';\nvar angleData = {\n  linear: {\n    'to top': '0deg',\n    'to top right': '45deg',\n    'to right top': '45deg',\n    'to right': '90deg',\n    'to right bottom': '135deg',\n    'to bottom right': '135deg',\n    'to bottom': '180deg',\n    'to bottom left': '225deg',\n    'to left bottom': '225deg',\n    'to left': '270deg',\n    'to left top': '315deg',\n    'to top left': '315deg'\n  },\n  radial: {\n    center: '50% 50%',\n    top: '50% 0%',\n    'top right': '100% 0%',\n    'right top': '100% 0%',\n    right: '100% 50%',\n    'right bottom': '100% 100%',\n    'bottom right': '100% 100%',\n    bottom: '50% 100%',\n    'bottom left': '0% 100%',\n    'left bottom': '0% 100%',\n    left: '0% 50%',\n    'left top': '0% 0%',\n    'top left': '0% 0%'\n  }\n};\nvar extentKeyWord = ['closest-side', 'closest-corner', 'farthest-side', 'farthest-corner'];\n\nvar consoleWarn = function consoleWarn(key, start, to) {\n  console.warn(\"Warning: The gradient \".concat(key, \"(\").concat(start, \" => \").concat(to, \") is different, which has been automatically converted to animation gradient \").concat(key, \"(\").concat(to, \").\"));\n}; // background-image functions: https://developer.mozilla.org/en-US/docs/Web/CSS/background-image\n\n\nvar noGradient = function noGradient(type) {\n  return type === 'url' || type.indexOf('image') >= 0 || type === 'paint' || type === 'cross-fade' || type === 'element';\n};\n\nvar GradientsPlugin = function GradientsPlugin(value) {\n  var _this = this;\n\n  _classCallCheck(this, GradientsPlugin);\n\n  this.start = [];\n  this.tweenVars = {};\n  this.vars = [];\n  this.defaultStartVars = [];\n\n  this.getPosition = function (data) {\n    return data.map(function (t) {\n      return {\n        data: parseFloat(t),\n        unit: t.replace(/[^a-z|%]/g, '')\n      };\n    });\n  };\n\n  this.getAngle = function (type, $angle) {\n    var t = type.replace(/-|gradient|repeating]/g, '');\n    var extent;\n    var shape;\n    var angle;\n    var position;\n\n    switch (t) {\n      case 'linear':\n        {\n          angle = _this.getPosition((angleData.linear[$angle] || $angle || angleData.linear['to bottom']).split(' '));\n          break;\n        }\n\n      case 'radial':\n        {\n          var angleSplit = $angle.split(' ');\n          extent = angleSplit.find(function (s) {\n            return extentKeyWord.indexOf(s) >= 0;\n          }) || extentKeyWord[3];\n          shape = angleSplit.find(function (s) {\n            return s === 'circle' || s === 'ellipse';\n          }) || 'ellipse';\n          var req = new RegExp(\"\".concat(extent, \"|\").concat(shape, \"|at\"), 'g');\n          var p = $angle.replace(req, '').trim();\n          position = _this.getPosition((angleData.radial[p] || p || angleData.radial.center).split(' '));\n          break;\n        }\n\n      case 'conic':\n        {\n          var _angleSplit = $angle.split('at').map(function (c) {\n            return c.trim();\n          });\n\n          var n = (_angleSplit[0] || '').split(' ');\n          shape = n[0] || 'from';\n          angle = _this.getPosition([n[1] || '0deg']);\n          position = _this.getPosition((angleData.radial[_angleSplit[1]] || _angleSplit[1] || angleData.radial.center).split(' '));\n          break;\n        }\n\n      default:\n        break;\n    }\n\n    return {\n      extent: extent,\n      shape: shape,\n      angle: angle,\n      position: position\n    };\n  };\n\n  this.valueToIValue = function (value) {\n    if (!value) {\n      return [];\n    }\n\n    var v = value.replace(/\\),\\s+?(url|radial|conic|linear|repeating|image|element|cross|paint)/, ')#,#$1').split('#,#'); //.match(/[a-z|-]+\\(([\\s\\S]*?)\\)/gi) || [];\n\n    return v.map(function (str) {\n      var type = str.replace(/([a-z|-]+)\\((.*)\\)/, '$1').trim();\n\n      if (type === 'url') {\n        return {\n          type: type,\n          values: str\n        };\n      }\n\n      var data = str.replace(/([a-z|-]+)\\((.*)\\)/, '$2').replace(/#([0-9a-f]{6}|[0-9a-f]{3})|(rgb[a]?|hsl)+\\(\\d+\\,[\\s+]?\\d+[\\%]?\\,[\\s+]?\\d+[\\%]?(\\,\\d+)?\\)/gi, function (e) {\n        return e.replace(/\\s+/g, '');\n      }).replace(/\\,([a-z|#|\\s+])/g, '#,#$1').split('#,#').map(function (str) {\n        return str.trim();\n      });\n      var a = data[0].match(colorRegExp) ? '' : data[0];\n\n      if (a) {\n        data.splice(0, 1);\n      }\n\n      var angle = _this.getAngle(type, a);\n\n      var values = data.map(function (s) {\n        var colorAndPos = s.trim().split(/\\s+/);\n        var color;\n        var t = colorAndPos[0].match(colorRegExp) ? colorAndPos[0] : colorAndPos[0];\n\n        if (t) {\n          colorAndPos.splice(0, 1);\n          color = parseColor(t);\n        }\n\n        return {\n          color: color,\n          positions: colorAndPos.map(function (s) {\n            return {\n              data: parseFloat(s),\n              unit: s.toString().replace(/[^a-z|%]/g, '')\n            };\n          })\n        };\n      });\n      return {\n        type: type,\n        angle: angle,\n        values: values\n      };\n    });\n  };\n\n  this.getAnimStart = function () {\n    var _tweenVars$key;\n\n    var s = _this.startAt,\n        key = _this.key,\n        computedStyle = _this.computedStyle,\n        target = _this.target,\n        vars = _this.vars,\n        tweenVars = _this.tweenVars;\n\n    var startAt = _objectSpread({}, s);\n\n    var v = (_tweenVars$key = tweenVars[key]) !== null && _tweenVars$key !== void 0 ? _tweenVars$key : (computedStyle || target)[key];\n\n    if (!v || v === 'none' || v === 'auto') {\n      v = '';\n    }\n\n    if (!startAt[key]) {\n      startAt[key] = v ? _this.valueToIValue(v) : _this.defaultStartVars;\n    }\n\n    var maxVarsLength = Math.max(vars.length, startAt[key].length);\n    var startData = (maxVarsLength === startAt[key].length ? startAt[key] : vars).map(function (_, i) {\n      var _item$angle, _start$angle;\n\n      var start = startAt[key][i] || _this.defaultStartVars[i];\n      var item = vars[i] || start;\n\n      if (!start || start.type !== item.type) {\n        if (start.type !== item.type) {\n          consoleWarn('type', start.type, item.type);\n        }\n\n        start = _this.defaultStartVars[i];\n      }\n\n      if (noGradient(item.type) || typeof item.values === 'string' || typeof start.values === 'string') {\n        return _objectSpread({}, item);\n      }\n\n      if (((_item$angle = item.angle) === null || _item$angle === void 0 ? void 0 : _item$angle.extent) !== ((_start$angle = start.angle) === null || _start$angle === void 0 ? void 0 : _start$angle.extent)) {\n        var _start$angle2, _item$angle2;\n\n        consoleWarn('extent keyword', (_start$angle2 = start.angle) === null || _start$angle2 === void 0 ? void 0 : _start$angle2.extent, (_item$angle2 = item.angle) === null || _item$angle2 === void 0 ? void 0 : _item$angle2.extent);\n      }\n\n      var maxLength = Math.max(start.values.length, item.values.length);\n      var values = maxLength === start.values.length ? start.values : item.values;\n      start.values = values.map(function (_, j) {\n        var sValue = start.values[j];\n        var aItem = item.values[j] || sValue;\n        return _objectSpread(_objectSpread({}, sValue), {}, {\n          positions: (aItem || sValue).positions.map(function ($bItem, jj) {\n            var sPos = sValue ? sValue.positions[jj] || sValue.positions[sValue.positions.length - 1] : aItem.positions[aItem.positions.length - 1];\n            var bItem = $bItem || sPos;\n\n            if (!sPos && sValue && start.values.length) {\n              sPos = {\n                data: 100 / (start.values.length - 1) * j,\n                unit: '%'\n              };\n            }\n\n            if (bItem.unit !== sPos.unit) {\n              consoleWarn('units', sPos.unit, bItem.unit);\n            }\n\n            return {\n              data: sPos.data,\n              unit: bItem.unit\n            };\n          })\n        });\n      });\n      return start;\n    });\n    _this.start = startData;\n    return _this.start;\n  };\n\n  this.render = function (ratio) {\n    var value = '';\n    var maxVarsLength = Math.max(_this.vars.length, _this.start.length);\n    (maxVarsLength === _this.vars.length ? _this.vars : _this.start).forEach(function (_, i) {\n      var start = _this.start[i];\n      var item = _this.vars[i] || start;\n\n      if (noGradient(item.type) || typeof item.values === 'string' || !item.angle) {\n        value += \"\".concat(value ? ',' : '', \" \").concat(item.values).trim();\n        return;\n      }\n\n      var maxLength = Math.max(start.values.length, item.values.length);\n      var values = (maxLength === start.values.length ? start.values : item.values).map(function (_, i) {\n        var startItem = start.values[i];\n        var cItem = item.values[i];\n\n        if (!cItem) {\n          cItem = startItem;\n        }\n\n        var startColor = startItem.color;\n        var startPos = startItem.positions;\n\n        if (!startColor && cItem.color) {\n          startColor = _toConsumableArray(cItem.color); // startColor[3] = 0;\n        }\n\n        if (!startPos) {\n          startPos = cItem.positions.map(function (c) {\n            return _objectSpread({}, c);\n          });\n        }\n\n        var color = cItem.color ? cItem.color.map(function (n, j) {\n          return getValue(startColor[j], n, ratio);\n        }) : cItem.color;\n        var positions = cItem.positions.map(function (n, j) {\n          return \"\".concat(getValue(startPos[j].data, n.data, ratio)).concat(n.unit);\n        }).join(' ');\n        return \"\".concat(color ? getColor(color) : color || '', \" \").concat(positions).trim();\n      });\n      var angle = item.angle;\n      var angleAngle = angle.angle && angle.angle.map(function (n, j) {\n        return \"\".concat(getValue(start.angle.angle[j].data, n.data, ratio)).concat(n.unit);\n      }).join(' ');\n      var anglePosition = angle.position && angle.position.map(function (n, j) {\n        return \"\".concat(getValue(start.angle.position[j].data, n.data, ratio)).concat(n.unit);\n      }).join(' ');\n      var newAngle = \"\".concat(angle.extent || '', \" \").concat(angle.shape || '', \" \").concat(angleAngle || '', \" \").concat(anglePosition ? \"at \".concat(anglePosition) : '').trim();\n      value += \"\".concat(value ? ',' : '', \" \").concat(item.type, \"(\").concat(newAngle ? \"\".concat(newAngle, \",\") : '').concat(values.join(','), \")\").trim();\n    });\n    return value;\n  };\n\n  this.value = value;\n  this.key = 'backgroundImage';\n  this.vars = this.valueToIValue(value);\n  this.defaultStartVars = this.vars.map(function (item) {\n    if (noGradient(item.type) || typeof item.values === 'string') {\n      return _objectSpread({}, item);\n    }\n\n    return _objectSpread(_objectSpread({}, item), {}, {\n      values: item.values.map(function (c) {\n        var color;\n\n        if (c.color && typeof c.color !== 'string') {\n          color = _toConsumableArray(c.color);\n          color[3] = 0;\n        } else {\n          color = c.color;\n        }\n\n        return {\n          color: color,\n          positions: _toConsumableArray(c.positions)\n        };\n      })\n    });\n  });\n};\n\nexport { GradientsPlugin as default };\nGradientsPlugin.className = 'GradientsPlugin';"]},"metadata":{},"sourceType":"module"}