{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { cssList, checkStyleName, getGsapType, isConvert, splitFilterToObject, getTransform, stylesToCss } from 'style-utils';\nimport { getComputedStyle, startConvertToEndUnit, getTransformValue, initFilterValue } from '../utils';\nimport Plugins from './';\n\nvar style = function style(props) {\n  var _this = this;\n\n  _classCallCheck(this, style);\n\n  this.props = props;\n  this.tweenVars = {};\n  this.start = {};\n  this.startAt = {};\n  this.propsData = {\n    data: {},\n    type: {},\n    unit: {},\n    count: {},\n    splitStr: {},\n    isTransform: {}\n  };\n\n  this.setDefaultData = function () {\n    var props = _this.props;\n\n    for (var k in props) {\n      // Object.keys(props).forEach((k: string) => {\n      var value = props[k];\n      var isArray = value.split && value.split(/\\s+|,/).length > 1 || k.match(/color|fill|stroke/i) || k.match(/shadow/i);\n      var isGradients = (k === 'background' || k === 'backgroundImage') && value.match(/[a-z|-]+\\(([\\s\\S]*?)\\)/gi);\n\n      if (isGradients) {\n        _this.propsData.data[k] = {\n          value: value,\n          plugin: Plugins.GradientsPlugin\n        };\n        continue;\n      }\n\n      if (isArray) {\n        _this.propsData.data[k] = {\n          value: value,\n          plugin: Plugins.ArrayPlugin\n        };\n        continue;\n      }\n\n      var key = getGsapType(k);\n\n      var data = _this.getTweenData(key, props[k]);\n\n      _this.propsData.data[key] = data.data[key];\n      _this.propsData.type[key] = data.type[key];\n      _this.propsData.unit[key] = data.unit[key];\n      _this.propsData.count[key] = data.count[key];\n      _this.propsData.isTransform[key] = isConvert(key) === 'transform';\n\n      if (data.splitStr[key]) {\n        _this.propsData.splitStr[key] = data.splitStr[key];\n      } //});\n\n    }\n  };\n\n  this.getTweenData = function (key, v) {\n    var data = {\n      data: {},\n      isTransform: {},\n      type: {},\n      unit: {},\n      count: {},\n      splitStr: {}\n    };\n    var value = v;\n    data.data[key] = value; // data.type[key] = 'other';\n\n    var dataIsString = typeof data.data[key] === 'string';\n    data.unit[key] = dataIsString ? data.data[key].replace(/[^a-z|%]/g, '') : '';\n    data.count[key] = dataIsString ? data.data[key].replace(/[^+|=|-]/g, '') : '';\n    var d = dataIsString ? parseFloat(data.data[key].replace(/[a-z|%|=]/g, '')) : data.data[key];\n    data.data[key] = !d && d !== 0 ? data.data[key] : d;\n    return data;\n  };\n\n  this.getAnimStart = function () {\n    var target = _this.target,\n        root = _this.root,\n        targetIndex = _this.targetIndex,\n        propsData = _this.propsData,\n        s = _this.startAt,\n        start = _this.start,\n        tweenVars = _this.tweenVars;\n    var startAt = {};\n\n    for (var c in s) {\n      //Object.keys(s).forEach(c => {\n      startAt[getGsapType(c)] = s[c]; //});\n    }\n\n    _this.computedStyle = _this.computedStyle || getComputedStyle(target);\n    tweenVars.style = tweenVars.style || {};\n    var transform;\n    var filter;\n\n    for (var key in propsData.data) {\n      var _ref, _startAt$key;\n\n      var item = propsData.data[key];\n\n      if (item.plugin) {\n        var plugin = new item.plugin(item.value, key);\n        plugin.target = target;\n        plugin.root = root;\n        plugin.parent = parent;\n        plugin.index = _this.index;\n        plugin.targetIndex = targetIndex;\n        plugin.tweenVars = root.vars[targetIndex] || {};\n        plugin.startAt = _this.startAt;\n        plugin.computedStyle = _this.computedStyle;\n        item.plugin = plugin;\n        start[key] = plugin.getAnimStart();\n        continue;\n      }\n\n      var cssName = isConvert(key);\n      var startData = (_ref = (_startAt$key = startAt[key]) !== null && _startAt$key !== void 0 ? _startAt$key : start[cssName]) !== null && _ref !== void 0 ? _ref : _this.computedStyle[cssName];\n\n      if (!startData || startData === 'none' || startData === 'auto') {\n        startData = '';\n      }\n\n      var endUnit = void 0;\n      var startUnit = void 0;\n\n      if (cssName === 'transform') {\n        transform = transform || (start.transform ? _objectSpread({}, start.transform) : null);\n\n        if (key in startAt) {\n          transform = transform || getTransform();\n          transform[key] = startAt[key];\n\n          if (key === 'scale') {\n            transform.scaleX = startAt[key];\n            transform.scaleY = startAt[key];\n          }\n        } else {\n          startData = _this.computedStyle[_this.transformName];\n          endUnit = propsData.unit[key];\n          transform = transform || getTransform(startData);\n          var unitReg = /%|vw|vh|em|rem/i;\n\n          if (endUnit && endUnit.match(unitReg)) {\n            transform[key] = transform[key] && transform[key].toString().match(unitReg) ? parseFloat(transform[key]) : startConvertToEndUnit({\n              target: target,\n              computedStyle: _this.computedStyle,\n              style: key,\n              value: transform[key],\n              endUnit: endUnit\n            });\n          }\n        }\n\n        start.transform = transform;\n      } else if (cssName === 'filter') {\n        var fKey = cssList.filterConvert[key] || key;\n        filter = filter || start[cssName] || null;\n\n        if (key in startAt) {\n          filter = filter || {};\n          filter[fKey] = startAt[key];\n        } else {\n          startData = _this.computedStyle[_this.filterName];\n          endUnit = propsData.unit[key];\n          filter = filter || (!startData || startData === 'none' || startData === 'auto' ? {} : splitFilterToObject(startData));\n          filter[fKey] = filter[fKey] || initFilterValue[key] || 0;\n        }\n\n        startData = filter[fKey] || 0;\n        startUnit = startData.toString().replace(/[^a-z|%]/g, '');\n        endUnit = _this.propsData.unit[key];\n\n        if (endUnit !== startUnit) {\n          var _this$computedStyle;\n\n          filter[fKey] = startConvertToEndUnit({\n            target: target,\n            computedStyle: _this.computedStyle,\n            style: cssName,\n            value: parseFloat(startData),\n            startUnit: startUnit,\n            endUnit: endUnit,\n            fixed: ((_this$computedStyle = _this.computedStyle) === null || _this$computedStyle === void 0 ? void 0 : _this$computedStyle.position) === 'fixed'\n          });\n        }\n\n        start[cssName] = filter;\n      } else {\n        // 计算单位\n        endUnit = propsData.unit[cssName];\n        startUnit = typeof startData === 'string' ? startData.replace(/[^a-z|%]/g, '') : '';\n\n        if (endUnit !== startUnit) {\n          var _this$computedStyle2;\n\n          startData = startConvertToEndUnit({\n            target: target,\n            computedStyle: _this.computedStyle,\n            style: cssName,\n            value: parseFloat(startData),\n            startUnit: startUnit,\n            endUnit: endUnit,\n            fixed: ((_this$computedStyle2 = _this.computedStyle) === null || _this$computedStyle2 === void 0 ? void 0 : _this$computedStyle2.position) === 'fixed'\n          });\n        }\n\n        start[cssName] = parseFloat(startData || 0);\n      }\n    }\n\n    return start;\n  };\n\n  this.render = function (ratio) {\n    var propsData = _this.propsData,\n        start = _this.start,\n        t = _this.tweenVars;\n    var tweenVars = t.style || {};\n\n    if (start.transform && !tweenVars[_this.transformName]) {\n      tweenVars[_this.transformName] = _objectSpread({}, start.transform);\n    }\n\n    if (start.filter && !tweenVars[_this.filterName]) {\n      tweenVars[_this.filterName] = _objectSpread({}, start.filter);\n    }\n\n    var transform = tweenVars[_this.transformName];\n    var filter = tweenVars[_this.filterName];\n    var data = propsData.data,\n        dataUnit = propsData.unit,\n        dataCount = propsData.count,\n        isTransform = propsData.isTransform;\n\n    for (var key in data) {\n      //Object.keys(data).forEach((key: string) => {\n      var endValue = data[key];\n\n      if (endValue.plugin) {\n        tweenVars[key] = endValue.plugin.render(ratio);\n        continue;\n      }\n\n      var isT = isTransform[key];\n      var startValue = isT ? start.transform[key] : start[key];\n      var unit = dataUnit[key];\n      var count = dataCount[key];\n\n      if (isT) {\n        if (unit && unit.match(/%|vw|vh|em|rem/i)) {\n          startValue = parseFloat(startValue);\n\n          if (count.charAt(1) === '=') {\n            transform[key] = startValue + endValue * ratio + (unit || 0);\n          } else {\n            transform[key] = (endValue - startValue) * ratio + startValue + (unit || 0);\n          }\n        } else if (key === 'scale') {\n          var xStart = start.transform.scaleX;\n          var yStart = start.transform.scaleY;\n\n          if (count.charAt(1) === '=') {\n            transform.scaleX = xStart + endValue * ratio;\n            transform.scaleY = yStart + endValue * ratio;\n          } else {\n            transform.scaleX = (endValue - xStart) * ratio + xStart;\n            transform.scaleY = (endValue - yStart) * ratio + yStart;\n          }\n        } else if (count.charAt(1) === '=') {\n          transform[key] = startValue + endValue * ratio;\n        } else {\n          transform[key] = (endValue - startValue) * ratio + startValue;\n        }\n\n        transform.text = getTransformValue(tweenVars.transform);\n      } else if (cssList.filter.indexOf(key) >= 0) {\n        var fKey = cssList.filterConvert[key] || key;\n        startValue = parseFloat(start.filter[fKey]) || 0;\n\n        if (count.charAt(1) === '=') {\n          filter[key] = startValue + endValue * ratio + (unit || 0);\n        } else {\n          filter[fKey] = (endValue - startValue) * ratio + startValue + (unit || 0);\n        }\n\n        filter.text = ''; //Object.keys(filter).forEach(filterKey => {\n\n        for (var filterKey in filter) {\n          if (filterKey === 'text') {\n            continue;\n          }\n\n          filter.text = \"\".concat(filter.text, \" \").concat(filterKey, \"(\").concat(filter[filterKey], \")\").trim();\n        } //});\n\n      } else {\n        var styleUnit = stylesToCss(key, 0);\n        styleUnit = typeof styleUnit === 'number' ? 0 : styleUnit.replace(/[^a-z|%]/g, '');\n        unit = unit || styleUnit;\n\n        if (typeof endValue === 'string') {\n          tweenVars[key] = endValue;\n        } else if (count.charAt(1) === '=') {\n          tweenVars[key] = startValue + endValue * ratio + unit;\n        } else {\n          tweenVars[key] = (endValue - startValue) * ratio + startValue + unit;\n        }\n      }\n    }\n\n    return tweenVars;\n  };\n\n  this.transformName = checkStyleName('transform');\n  this.filterName = checkStyleName('filter') || 'filter';\n  this.setDefaultData();\n};\n\nstyle.key = 'style';\nstyle.className = 'style';\nexport default style;","map":{"version":3,"sources":["/Users/stewardsun/Desktop/技术栈/React项目/Boss Recruitment/bob-recruitment-client/node_modules/tween-one/es/plugins/StylePlugin.js"],"names":["_objectSpread","_classCallCheck","cssList","checkStyleName","getGsapType","isConvert","splitFilterToObject","getTransform","stylesToCss","getComputedStyle","startConvertToEndUnit","getTransformValue","initFilterValue","Plugins","style","props","_this","tweenVars","start","startAt","propsData","data","type","unit","count","splitStr","isTransform","setDefaultData","k","value","isArray","split","length","match","isGradients","plugin","GradientsPlugin","ArrayPlugin","key","getTweenData","v","dataIsString","replace","d","parseFloat","getAnimStart","target","root","targetIndex","s","c","computedStyle","transform","filter","_ref","_startAt$key","item","parent","index","vars","cssName","startData","endUnit","startUnit","scaleX","scaleY","transformName","unitReg","toString","fKey","filterConvert","filterName","_this$computedStyle","fixed","position","_this$computedStyle2","render","ratio","t","dataUnit","dataCount","endValue","isT","startValue","charAt","xStart","yStart","text","indexOf","filterKey","concat","trim","styleUnit","className"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { cssList, checkStyleName, getGsapType, isConvert, splitFilterToObject, getTransform, stylesToCss } from 'style-utils';\nimport { getComputedStyle, startConvertToEndUnit, getTransformValue, initFilterValue } from '../utils';\nimport Plugins from './';\n\nvar style = function style(props) {\n  var _this = this;\n\n  _classCallCheck(this, style);\n\n  this.props = props;\n  this.tweenVars = {};\n  this.start = {};\n  this.startAt = {};\n  this.propsData = {\n    data: {},\n    type: {},\n    unit: {},\n    count: {},\n    splitStr: {},\n    isTransform: {}\n  };\n\n  this.setDefaultData = function () {\n    var props = _this.props;\n\n    for (var k in props) {\n      // Object.keys(props).forEach((k: string) => {\n      var value = props[k];\n      var isArray = value.split && value.split(/\\s+|,/).length > 1 || k.match(/color|fill|stroke/i) || k.match(/shadow/i);\n      var isGradients = (k === 'background' || k === 'backgroundImage') && value.match(/[a-z|-]+\\(([\\s\\S]*?)\\)/gi);\n\n      if (isGradients) {\n        _this.propsData.data[k] = {\n          value: value,\n          plugin: Plugins.GradientsPlugin\n        };\n        continue;\n      }\n\n      if (isArray) {\n        _this.propsData.data[k] = {\n          value: value,\n          plugin: Plugins.ArrayPlugin\n        };\n        continue;\n      }\n\n      var key = getGsapType(k);\n\n      var data = _this.getTweenData(key, props[k]);\n\n      _this.propsData.data[key] = data.data[key];\n      _this.propsData.type[key] = data.type[key];\n      _this.propsData.unit[key] = data.unit[key];\n      _this.propsData.count[key] = data.count[key];\n      _this.propsData.isTransform[key] = isConvert(key) === 'transform';\n\n      if (data.splitStr[key]) {\n        _this.propsData.splitStr[key] = data.splitStr[key];\n      } //});\n\n    }\n  };\n\n  this.getTweenData = function (key, v) {\n    var data = {\n      data: {},\n      isTransform: {},\n      type: {},\n      unit: {},\n      count: {},\n      splitStr: {}\n    };\n    var value = v;\n    data.data[key] = value; // data.type[key] = 'other';\n\n    var dataIsString = typeof data.data[key] === 'string';\n    data.unit[key] = dataIsString ? data.data[key].replace(/[^a-z|%]/g, '') : '';\n    data.count[key] = dataIsString ? data.data[key].replace(/[^+|=|-]/g, '') : '';\n    var d = dataIsString ? parseFloat(data.data[key].replace(/[a-z|%|=]/g, '')) : data.data[key];\n    data.data[key] = !d && d !== 0 ? data.data[key] : d;\n    return data;\n  };\n\n  this.getAnimStart = function () {\n    var target = _this.target,\n        root = _this.root,\n        targetIndex = _this.targetIndex,\n        propsData = _this.propsData,\n        s = _this.startAt,\n        start = _this.start,\n        tweenVars = _this.tweenVars;\n    var startAt = {};\n\n    for (var c in s) {\n      //Object.keys(s).forEach(c => {\n      startAt[getGsapType(c)] = s[c]; //});\n    }\n\n    _this.computedStyle = _this.computedStyle || getComputedStyle(target);\n    tweenVars.style = tweenVars.style || {};\n    var transform;\n    var filter;\n\n    for (var key in propsData.data) {\n      var _ref, _startAt$key;\n\n      var item = propsData.data[key];\n\n      if (item.plugin) {\n        var plugin = new item.plugin(item.value, key);\n        plugin.target = target;\n        plugin.root = root;\n        plugin.parent = parent;\n        plugin.index = _this.index;\n        plugin.targetIndex = targetIndex;\n        plugin.tweenVars = root.vars[targetIndex] || {};\n        plugin.startAt = _this.startAt;\n        plugin.computedStyle = _this.computedStyle;\n        item.plugin = plugin;\n        start[key] = plugin.getAnimStart();\n        continue;\n      }\n\n      var cssName = isConvert(key);\n      var startData = (_ref = (_startAt$key = startAt[key]) !== null && _startAt$key !== void 0 ? _startAt$key : start[cssName]) !== null && _ref !== void 0 ? _ref : _this.computedStyle[cssName];\n\n      if (!startData || startData === 'none' || startData === 'auto') {\n        startData = '';\n      }\n\n      var endUnit = void 0;\n      var startUnit = void 0;\n\n      if (cssName === 'transform') {\n        transform = transform || (start.transform ? _objectSpread({}, start.transform) : null);\n\n        if (key in startAt) {\n          transform = transform || getTransform();\n          transform[key] = startAt[key];\n\n          if (key === 'scale') {\n            transform.scaleX = startAt[key];\n            transform.scaleY = startAt[key];\n          }\n        } else {\n          startData = _this.computedStyle[_this.transformName];\n          endUnit = propsData.unit[key];\n          transform = transform || getTransform(startData);\n          var unitReg = /%|vw|vh|em|rem/i;\n\n          if (endUnit && endUnit.match(unitReg)) {\n            transform[key] = transform[key] && transform[key].toString().match(unitReg) ? parseFloat(transform[key]) : startConvertToEndUnit({\n              target: target,\n              computedStyle: _this.computedStyle,\n              style: key,\n              value: transform[key],\n              endUnit: endUnit\n            });\n          }\n        }\n\n        start.transform = transform;\n      } else if (cssName === 'filter') {\n        var fKey = cssList.filterConvert[key] || key;\n        filter = filter || start[cssName] || null;\n\n        if (key in startAt) {\n          filter = filter || {};\n          filter[fKey] = startAt[key];\n        } else {\n          startData = _this.computedStyle[_this.filterName];\n          endUnit = propsData.unit[key];\n          filter = filter || (!startData || startData === 'none' || startData === 'auto' ? {} : splitFilterToObject(startData));\n          filter[fKey] = filter[fKey] || initFilterValue[key] || 0;\n        }\n\n        startData = filter[fKey] || 0;\n        startUnit = startData.toString().replace(/[^a-z|%]/g, '');\n        endUnit = _this.propsData.unit[key];\n\n        if (endUnit !== startUnit) {\n          var _this$computedStyle;\n\n          filter[fKey] = startConvertToEndUnit({\n            target: target,\n            computedStyle: _this.computedStyle,\n            style: cssName,\n            value: parseFloat(startData),\n            startUnit: startUnit,\n            endUnit: endUnit,\n            fixed: ((_this$computedStyle = _this.computedStyle) === null || _this$computedStyle === void 0 ? void 0 : _this$computedStyle.position) === 'fixed'\n          });\n        }\n\n        start[cssName] = filter;\n      } else {\n        // 计算单位\n        endUnit = propsData.unit[cssName];\n        startUnit = typeof startData === 'string' ? startData.replace(/[^a-z|%]/g, '') : '';\n\n        if (endUnit !== startUnit) {\n          var _this$computedStyle2;\n\n          startData = startConvertToEndUnit({\n            target: target,\n            computedStyle: _this.computedStyle,\n            style: cssName,\n            value: parseFloat(startData),\n            startUnit: startUnit,\n            endUnit: endUnit,\n            fixed: ((_this$computedStyle2 = _this.computedStyle) === null || _this$computedStyle2 === void 0 ? void 0 : _this$computedStyle2.position) === 'fixed'\n          });\n        }\n\n        start[cssName] = parseFloat(startData || 0);\n      }\n    }\n\n    return start;\n  };\n\n  this.render = function (ratio) {\n    var propsData = _this.propsData,\n        start = _this.start,\n        t = _this.tweenVars;\n    var tweenVars = t.style || {};\n\n    if (start.transform && !tweenVars[_this.transformName]) {\n      tweenVars[_this.transformName] = _objectSpread({}, start.transform);\n    }\n\n    if (start.filter && !tweenVars[_this.filterName]) {\n      tweenVars[_this.filterName] = _objectSpread({}, start.filter);\n    }\n\n    var transform = tweenVars[_this.transformName];\n    var filter = tweenVars[_this.filterName];\n    var data = propsData.data,\n        dataUnit = propsData.unit,\n        dataCount = propsData.count,\n        isTransform = propsData.isTransform;\n\n    for (var key in data) {\n      //Object.keys(data).forEach((key: string) => {\n      var endValue = data[key];\n\n      if (endValue.plugin) {\n        tweenVars[key] = endValue.plugin.render(ratio);\n        continue;\n      }\n\n      var isT = isTransform[key];\n      var startValue = isT ? start.transform[key] : start[key];\n      var unit = dataUnit[key];\n      var count = dataCount[key];\n\n      if (isT) {\n        if (unit && unit.match(/%|vw|vh|em|rem/i)) {\n          startValue = parseFloat(startValue);\n\n          if (count.charAt(1) === '=') {\n            transform[key] = startValue + endValue * ratio + (unit || 0);\n          } else {\n            transform[key] = (endValue - startValue) * ratio + startValue + (unit || 0);\n          }\n        } else if (key === 'scale') {\n          var xStart = start.transform.scaleX;\n          var yStart = start.transform.scaleY;\n\n          if (count.charAt(1) === '=') {\n            transform.scaleX = xStart + endValue * ratio;\n            transform.scaleY = yStart + endValue * ratio;\n          } else {\n            transform.scaleX = (endValue - xStart) * ratio + xStart;\n            transform.scaleY = (endValue - yStart) * ratio + yStart;\n          }\n        } else if (count.charAt(1) === '=') {\n          transform[key] = startValue + endValue * ratio;\n        } else {\n          transform[key] = (endValue - startValue) * ratio + startValue;\n        }\n\n        transform.text = getTransformValue(tweenVars.transform);\n      } else if (cssList.filter.indexOf(key) >= 0) {\n        var fKey = cssList.filterConvert[key] || key;\n        startValue = parseFloat(start.filter[fKey]) || 0;\n\n        if (count.charAt(1) === '=') {\n          filter[key] = startValue + endValue * ratio + (unit || 0);\n        } else {\n          filter[fKey] = (endValue - startValue) * ratio + startValue + (unit || 0);\n        }\n\n        filter.text = ''; //Object.keys(filter).forEach(filterKey => {\n\n        for (var filterKey in filter) {\n          if (filterKey === 'text') {\n            continue;\n          }\n\n          filter.text = \"\".concat(filter.text, \" \").concat(filterKey, \"(\").concat(filter[filterKey], \")\").trim();\n        } //});\n\n      } else {\n        var styleUnit = stylesToCss(key, 0);\n        styleUnit = typeof styleUnit === 'number' ? 0 : styleUnit.replace(/[^a-z|%]/g, '');\n        unit = unit || styleUnit;\n\n        if (typeof endValue === 'string') {\n          tweenVars[key] = endValue;\n        } else if (count.charAt(1) === '=') {\n          tweenVars[key] = startValue + endValue * ratio + unit;\n        } else {\n          tweenVars[key] = (endValue - startValue) * ratio + startValue + unit;\n        }\n      }\n    }\n\n    return tweenVars;\n  };\n\n  this.transformName = checkStyleName('transform');\n  this.filterName = checkStyleName('filter') || 'filter';\n  this.setDefaultData();\n};\n\nstyle.key = 'style';\nstyle.className = 'style';\nexport default style;"]},"metadata":{},"sourceType":"module"}