{"ast":null,"code":"/**\n * There are lots of action creator:\n *      synchronized action\n *      asynchronized action\n */\nimport { reqRegister, reqLogin, reqUpdateUser } from '../api';\nimport { AUTH_SUCCESS, ERROR_MSG } from './action-types';\n/**\n * auth success sync action\n */\n\nconst authSuccess = user => ({\n  type: AUTH_SUCCESS,\n  data: user\n});\n/**\n * msg info sync action\n */\n\n\nconst errorMsg = msg => ({\n  type: ERROR_MSG,\n  data: msg\n});\n/**\n * register\n */\n\n\nexport const register = user => {\n  const {\n    username,\n    password,\n    password2,\n    type\n  } = user; // do validation before send request\n\n  if (!username) {\n    return errorMsg('you have to enter username');\n  }\n\n  if (password !== password2) {\n    return errorMsg('two time passwords should be the same');\n  }\n\n  if (!password || !password2) {\n    return errorMsg('passwords must be entered');\n  } // form data is valid\n\n\n  return async dispatch => {\n    // send register asyn request\n    const response = await reqRegister({\n      username,\n      password,\n      type\n    });\n    const result = response.data;\n\n    if (result.code === 0) {\n      // success\n      // dispatch success action\n      dispatch(authSuccess(result.data));\n    } else {\n      // fail\n      // dispatch fail action\n      dispatch(errorMsg(result.msg));\n    }\n  };\n};\n/**\n * login\n */\n\nexport const login = user => {\n  const {\n    username,\n    password\n  } = user; // do validation before send request\n\n  if (!username) {\n    return errorMsg('you have to enter username');\n  }\n\n  if (!password) {\n    return errorMsg('password should be the entering');\n  }\n\n  return async dispatch => {\n    // send login asyn request\n    const response = await reqLogin(user);\n    const result = response.data;\n\n    if (result.code === 0) {\n      // success\n      // dispatch success action\n      dispatch(authSuccess(result.data));\n    } else {\n      // fail\n      // dispatch fail action\n      dispatch(errorMsg(result.msg));\n    }\n  };\n};\n/**\n * update\n */\n\nexport const update = user => {\n  return async dispatch => {\n    const response = await reqUpdateUser(user);\n    const result = response.data;\n\n    if (result.code === 0) {// success\n    } else {// fail\n    }\n  };\n};","map":{"version":3,"sources":["/Users/stewardsun/Desktop/技术栈/React项目/Boss Recruitment/bob-recruitment-client/src/redux/actions.js"],"names":["reqRegister","reqLogin","reqUpdateUser","AUTH_SUCCESS","ERROR_MSG","authSuccess","user","type","data","errorMsg","msg","register","username","password","password2","dispatch","response","result","code","login","update"],"mappings":"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","sourcesContent":["/**\n * There are lots of action creator:\n *      synchronized action\n *      asynchronized action\n */\nimport { reqRegister, reqLogin, reqUpdateUser } from '../api'\nimport { AUTH_SUCCESS, ERROR_MSG } from './action-types'\n/**\n * auth success sync action\n */\nconst authSuccess = (user) => ({ type: AUTH_SUCCESS, data: user });\n/**\n * msg info sync action\n */\nconst errorMsg = (msg) => ({ type: ERROR_MSG, data: msg });\n/**\n * register\n */\nexport const register = (user) => {\n    const { username, password, password2, type } = user;\n    // do validation before send request\n    if (!username) {\n        return errorMsg('you have to enter username');\n    }\n    if (password !== password2) {\n        return errorMsg('two time passwords should be the same');\n    }\n    if (!password || !password2) {\n        return errorMsg('passwords must be entered');\n    }\n    // form data is valid\n    return async dispatch => {\n        // send register asyn request\n        const response = await reqRegister({ username, password, type });\n        const result = response.data;\n        if (result.code === 0) { // success\n            // dispatch success action\n            dispatch(authSuccess(result.data));\n        } else { // fail\n            // dispatch fail action\n            dispatch(errorMsg(result.msg));\n        }\n    }\n}\n\n/**\n * login\n */\nexport const login = (user) => {\n    const { username, password } = user;\n    // do validation before send request\n    if (!username) {\n        return errorMsg('you have to enter username');\n    }\n    if (!password) {\n        return errorMsg('password should be the entering');\n    }\n    return async dispatch => {\n        // send login asyn request\n        const response = await reqLogin(user);\n        const result = response.data;\n        if (result.code === 0) { // success\n            // dispatch success action\n            dispatch(authSuccess(result.data));\n        } else { // fail\n            // dispatch fail action\n            dispatch(errorMsg(result.msg));\n        }\n    }\n}\n\n/**\n * update\n */\nexport const update = (user) => {\n    return async dispatch => {\n        const response = await reqUpdateUser(user);\n        const result = response.data;\n        if (result.code === 0) { // success\n\n        } else { // fail\n\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}